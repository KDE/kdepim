<HTML>
<HEAD>
<TITLE>kaddressbook.idl.html</TITLE>
</HEAD>
<BODY BGcolor=#fff3f7 TEXT=#000000>
<PRE>
<FONT color=#a620f7>#ifndef __kaddressbook_idl__</FONT>
<FONT color=#a620f7>#define __kaddressbook_idl__</FONT>

<FONT color=#a620f7>#include </FONT><FONT color=#ff00ff>&lt;openparts.idl&gt;</FONT>

<B><FONT color=#a62828>module</FONT></B> <B><FONT color=#288a51>KAddressBook</FONT></B>
{

  <B><FONT color=#a62828>enum</FONT></B> <B><FONT color=#288a51>EntityType</FONT></B> { <FONT color=#ff00ff>EntityTypeEntity</FONT>, <FONT color=#ff00ff>EntityTypeGroup</FONT> };

  <FONT color=#0000ff>//forward references</FONT>
  <B><FONT color=#a62828>interface</FONT></B> <B><FONT color=#288a51>AddressBook</FONT></B>;
  <B><FONT color=#a62828>interface</FONT></B> <B><FONT color=#288a51>Group</FONT></B>;
  <B><FONT color=#a62828>interface</FONT></B> <B><FONT color=#288a51>Entity</FONT></B>;
  <B><FONT color=#a62828>interface</FONT></B> <B><FONT color=#288a51>Field</FONT></B>;

  <B><FONT color=#a62828>typedef</FONT></B> sequence&lt;wstring&gt; <FONT color=#008a8e>StringList</FONT>;
  <B><FONT color=#a62828>typedef</FONT></B> sequence&lt;Field&gt;   <FONT color=#008a8e>FieldList</FONT>;
  <B><FONT color=#a62828>typedef</FONT></B> wstring           <FONT color=#008a8e>Key</FONT>;
  <B><FONT color=#a62828>typedef</FONT></B> sequence&lt;char&gt;    <FONT color=#008a8e>Data</FONT>;

  <B><FONT color=#a62828>interface</FONT></B> <B><FONT color=#288a51>Field</FONT></B>
  {
    Key     <FONT color=#008a8e>key</FONT>     ();
    wstring <FONT color=#008a8e>type</FONT>    ();
    wstring <FONT color=#008a8e>subType</FONT> ();
    Data    <FONT color=#008a8e>value</FONT>   ();

    void <FONT color=#008a8e>setKey</FONT>     (<B><FONT color=#288a51>in</FONT></B> Key <FONT color=#008a8e>k</FONT>);
    void <FONT color=#008a8e>setType</FONT>    (<B><FONT color=#288a51>in</FONT></B> wstring <FONT color=#008a8e>t</FONT>);
    void <FONT color=#008a8e>setSubType</FONT> (<B><FONT color=#288a51>in</FONT></B> wstring <FONT color=#008a8e>t</FONT>);
    void <FONT color=#008a8e>setValue</FONT>   (<B><FONT color=#288a51>in</FONT></B> Data <FONT color=#008a8e>v</FONT>);
  };

  <B><FONT color=#a62828>interface</FONT></B> <B><FONT color=#288a51>Entity</FONT></B> : <FONT color=#008a8e>KOM::Component</FONT>
  {
    Key         <FONT color=#008a8e>id</FONT>            ();
    wstring     <FONT color=#008a8e>name</FONT>          ();
    EntityType  <FONT color=#008a8e>type</FONT>          ();
    Field       <FONT color=#008a8e>field</FONT>         (<B><FONT color=#288a51>in</FONT></B> wstring <FONT color=#008a8e>n</FONT>);
    FieldList   <FONT color=#008a8e>fieldList</FONT>     ();

    bool        <FONT color=#008a8e>rename</FONT>        (<B><FONT color=#288a51>in</FONT></B> wstring <FONT color=#008a8e>n</FONT>);
    bool        <FONT color=#008a8e>add</FONT>           (<B><FONT color=#288a51>in</FONT></B> Field <FONT color=#008a8e>f</FONT>);
    bool        <FONT color=#008a8e>remove</FONT>        (<B><FONT color=#288a51>in</FONT></B> Field <FONT color=#008a8e>f</FONT>);
    bool        <FONT color=#008a8e>removeByName</FONT>  (<B><FONT color=#288a51>in</FONT></B> wstring <FONT color=#008a8e>n</FONT>);
  }; 

  <B><FONT color=#a62828>interface</FONT></B> <B><FONT color=#288a51>Group</FONT></B> : <FONT color=#008a8e>Entity</FONT>
  {
    wstring     <FONT color=#008a8e>name</FONT>          ();
    StringList  <FONT color=#008a8e>members</FONT>       ();
    
    void        <FONT color=#008a8e>addEntity</FONT>     (<B><FONT color=#288a51>in</FONT></B> Entity <FONT color=#008a8e>e</FONT>);
    void        <FONT color=#008a8e>addGroup</FONT>      (<B><FONT color=#288a51>in</FONT></B> Group <FONT color=#008a8e>g</FONT>);

    void        <FONT color=#008a8e>removeEntity</FONT>  (<B><FONT color=#288a51>in</FONT></B> Entity <FONT color=#008a8e>e</FONT>);
    void        <FONT color=#008a8e>removeGroup</FONT>   (<B><FONT color=#288a51>in</FONT></B> Group <FONT color=#008a8e>g</FONT>);
  };

  <B><FONT color=#a62828>interface</FONT></B> <B><FONT color=#288a51>AddressBook</FONT></B>
  {
    Entity  <FONT color=#008a8e>entity</FONT>        (<B><FONT color=#288a51>in</FONT></B> Key <FONT color=#008a8e>k</FONT>);
    Group   <FONT color=#008a8e>group</FONT>         (<B><FONT color=#288a51>in</FONT></B> Key <FONT color=#008a8e>k</FONT>);
    
    bool    <FONT color=#008a8e>addEntity</FONT>     (<B><FONT color=#288a51>in</FONT></B> Entity <FONT color=#008a8e>e</FONT>);
    bool    <FONT color=#008a8e>addGroup</FONT>      (<B><FONT color=#288a51>in</FONT></B> Group <FONT color=#008a8e>g</FONT>);
    bool    <FONT color=#008a8e>addByKey</FONT>      (<B><FONT color=#288a51>in</FONT></B> Key <FONT color=#008a8e>k</FONT>);
    bool    <FONT color=#008a8e>remove</FONT>        (<B><FONT color=#288a51>in</FONT></B> Key <FONT color=#008a8e>k</FONT>);
    bool    <FONT color=#008a8e>replaceEntity</FONT> (<B><FONT color=#288a51>in</FONT></B> Entity <FONT color=#008a8e>e</FONT>);
    bool    <FONT color=#008a8e>replaceGroup</FONT>  (<B><FONT color=#288a51>in</FONT></B> Group <FONT color=#008a8e>g</FONT>);
  };
};

<FONT color=#a620f7>#endif</FONT>
</PRE>
</BODY>
</HTML>
