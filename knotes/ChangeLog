ChangeLog for KNotes
====================

2002/10/04  Michael Brade <brade@kde.org>

    * fixed cut, paste, undo and redo activation

2002/09/30  Michael Brade <brade@kde.org>

    * fixed mouse behaviour to be like kwin: 
         - raise() and lower() windows already on mouse button press, 
           not on mouse button release
         - MMB moves notes as well
    * reduced code duplication (setColor, updateFocus)
    * fixed some consts

2002/09/28  Michael Brade <brade@kde.org>

    * finally fixed the session management bug (remove the sessionId from
      all notes => KWin will ignore them)

2002/09/26  Michael Brade <brade@kde.org>

    * new version number

2002/09/25  Michael Brade <brade@kde.org>

    * patch from Matthias Kiefer:
        - add DCOP call hideNote()
        - add new action "New Note from Clipboard"
        - nice icon for the "Insert Date" action
        - global shortcuts for "New Note" and "New Note from Clipboard"
    * changed some actions to KStdActions
    * removed the "Notes" sub-menu from the RMB menu

2002/09/24  Michael Brade <brade@kde.org>

    * fixed printing:
        - do not use private Qt headers
        - use the correct font 

2002/09/21  Michael Brade <brade@kde.org>

    * inherit KTextEdit instead of QTextEdit
    * fixed drag and drop of text and URLs
    * fixed changing of font size/family/style

2002/09/10  Michael Brade <brade@kde.org>

    * fixed one more readNumEntry, thanks to Matthias Kiefer 
 
2002/06/17  Wynn Wilkes <wynnw@wilkes.ws>

    * fixed a bug where new notes with the version of 2.2 were seen as old notes
      and were converted which led to bad note config files and a big black screen

    * fixed the note conversion code to use KNOTES_VERSION

2002/05/10  Michael Brade <brade@kde.org>

    * fixed crash on exit due to wrong deletion order
    * fixed #42437: preferences never got saved (whoops!!)

2002/03/08  Michael Brade <brade@kde.org>

    * fixed #38958: Show note color in notes menu

2002/01/23  Michael Brade <brade@kde.org>

    * fixed #36376, #36799: MMB for new note

2002/01/22  Michael Brade <brade@kde.org>

    * fixed #37222: Alt-F4 "deletes" note
    * fixed #37176: ask for confirmation before deleting a note
    * fixed #36374: double click to rename a note
    * email updates

2001/09/09  Michael Brade <brade@informatik.uni-muenchen.de>

    * improved the config dialog
    * almost finished rich text notes

2001/09/08  Michael Brade <brade@informatik.uni-muenchen.de>

    * bugfixes to make KNotes work with Qt3

2001/09/04  Michael Brade <brade@informatik.uni-muenchen.de>

    * compile with Qt3
    * started some work on rich text notes (no GUI yet)

2001/07/13  Michael Brade <brade@informatik.uni-muenchen.de>

    * fixed #28879 (titles were not centered)

2001/07/11  Michael Brade <brade@informatik.uni-muenchen.de>

    * fixed #28627 (%t in Mail Action)
    * started to fix #23567 (printing)

2001/07/09  Michael Brade <brade@informatik.uni-muenchen.de>

    * don't reread the knotesui.rc all the time a new note is created

2001/06/23  Michael Brade <brade@informatik.uni-muenchen.de>

    * fixed #18086 (add a size grip for the notes)
    * update the title layout if the font was changed

2001/06/17  Michael Brade <brade@informatik.uni-muenchen.de>

    * finished porting KNotes to the XMLGUI framework
    * fixed auto-indent
    * fixed the RMB menu

2001/06/11  Michael Brade <brade@informatik.uni-muenchen.de>

    * improved Configdialog:
      - use nicer and bigger icons
      - removed the size setting from the local note config dialog
      - #20172: separate font settings for title and body
    * don't reload the display setting if changing e.g. only the color -
      the note's geometry could have been changed already
    * fixed some bugs introduced by the QTextEdit port

2001/06/10  Michael Brade <brade@informatik.uni-muenchen.de>

    * if there's only one note jump to it immediately instead of
      showing the LMB menu

2001/06/10  Michael Brade <brade@informatik.uni-muenchen.de>

    * small bugfix: display "No notes" instead of nothing in the LMB
      menu if there are no notes anymore.

2001/06/10  Michael Brade <brade@informatik.uni-muenchen.de>

    * ported to QTextEdit
    * updated actions, removed the ActionProperties section for now

2001/06/05  Michael Brade <brade@informatik.uni-muenchen.de>

    * started to port KNotes to the XMLGUI framework (50% done)
    * dropped KSystemTray inheritance

2001/05/19  Michael Brade <brade@informatik.uni-muenchen.de>

    * fixed the session management bug (#22844)
    * added two more icons to the context menu
    * fixed the undo/redo: no more undo right after startup possible
    * improved the code for saving the notes a lot, saved a little
      memory by removing a now unneeded variable

2001/05/06  Michael Brade <brade@informatik.uni-muenchen.de>

    * made the notes look 3d
    * added a small border to the text
    * change the color of the title to show the focus state

2001/04/25  Michael Brade <brade@informatik.uni-muenchen.de>

    Updated this file! It's time now, after one and a half years...

2001/04/25  Michael Brade <brade@informatik.uni-muenchen.de>

    Fixed the DCOP interface, no overloaded methods anymore.

2001/03/29  Nikolas Zimmermann <wildfox@kde.org>

    converted to KPrinter

2001/03/29  Michael Brade <brade@informatik.uni-muenchen.de>

    Focus updates. Fix for BR2333, it's time now ;-)

    GUI: Esc closes the current note, Shift-Tab cycles through the notes.
         TODO: make this configureable

2001/03/25  Michael Brade <brade@informatik.uni-muenchen.de>

    * Some internal redesign
    * the notes are now saved on FocusOutEvent to reduce the possibility
      of data loss (Bug#19851)
    * restructured the menu
    * most important: rewrote and extended the DCOP interface. KNotes now
      provides methods to work fine with PDA sync utils, ATM that's KPilot.
      The number of apps that can sync with KNotes is not limited.

2001/02/04  Michael Brade <brade@informatik.uni-muenchen.de>

    The fix for the broken config files. Enabled the "Stays On Top" option
    as well.

2001/01/18  Matthias Kiefer <matthias.kiefer@gmx.de>

    desktop names are encoded in utf8

2000/12/19  Wynn Wilkes <wynnw@calderasystems.com>

    Added support for two dcop calls, rereadNoteDirectory and addNote
    The addNote doesn't work yet - there's some problem with the DCOP
    when I've tested from the command line.

    Cleaned up the internal code to use new private functions that handle
    the different cases.

2000/12/19  Adriaan de Groot <adridg@sci.kun.nl>

    Added DCOP calls to manipulate notes (intended for KPilot)

2000/10/15  Antonio Larrosa Jimenez <larrosa@kde.org>

    The patch by Michael Brade <Michael.Brade@informatik.uni-muenchen.de>
    posted on kde-core-devel some days ago. Partly reviewed by Wynn Wilkes.

2000/10/04  David Faure <faure@kde.org>

    Patch from Wynn Wilkes, reviewed by Michael Brade, approved by Matthias Elter.
    It fixes the following problems:
    "There are some bad memory leaks in the current cvs, and the note data is not
    saved on a session shutdown.  The patch fixes those and adds some workarounds
    for some weird behavior in the QMultiLineEdit widget which adds some phantom
    lines to your text now and then.  It also reduces the memory usage by not
    keeping a KConfig object open for each note all the time - it just creates
    them when saving new changes to the note settings."

2000/09/24  Dirk Müller <mueller@kde.org>

    - first attempt fixing the blatant memory leaks in this app.
      it still does a lot of crazy things, like keeping all kinds of KSimpleConfig
      objects open all the time and writing new coordinates to it in the ::resizeEvent.
      it still leaks as the KNote objects are not deleted. this needs more work
    - code cleanup. use KWin convenience functions instead of hacking
      our own NetWM queries. tested by myself. This simple code is probably
      example code for other developers, so its important that it isn't
      totally screwed up.
    - removed unnecessary header file.
    - fixed a few uninitialized variable reads that could lead to a crash
      approved by insure++

2000/09/23  Matthias Ettrich <ettrich@kde.org>

    removed unused (but linked) file. Show nodelist on LMB as it was in KDE1

2000/09/14  Wynn Wilkes <wynnw@calderasystems.com>

    Tons of fixes:
     - Window Manager integration readded
     - Notes don't appear on the taskbar
     - Printing works
     - Notes can be sticky
     - Added good defaults to config reading - so no albino notes

2000/08/18  Waldo Bastian <bastian@kde.org>

    Adjust size of header to size of font.

2000/08/11  Wynn Wilkes <wynnw@calderasystems.com>

    * Fixed mail action to use a generic mail command with %f as the file.
    * Fixed the mail action to use full path names- that's all kmail works with
      currently.
    * fixed the action page of the config dialog to provide an edit box for
      the mail command, took out label for printing since it won't be done..

2000/07/31  Stefan Schimanski <1Stein@gmx.de>

    Rename bug #5858 fixed.

2000/07/28  Wynn Wilkes <wynnw@calderasystems.com>

    Config dialog:
    * start putting in support for action configuration, waiting to hear from
      kmail guys about --msg option
    * Changed to be a modal dialog

2000/07/14  Wynn Wilkes <wynnw@calderasystems.com>

    removed WABA's net entry for removing window borders...
    KWin is respecting the Qt flags again it seems, it works without this now

2000/07/06  Waldo Bastian <bastian@kde.org>

    +       //WABA: Get rid of decorations. I can hardly imagine that
    +       //this is "The Right Way" of doing that.
    +       KWin::setType( winId(), NET::Toolbar);

2000/06/21  Wynn Wilkes <wynnw@calderasystems.com>

    Almost done with the config dialog
    Fixed knotesrc problem with session management

2000/06/13  Wynn Wilkes <wynnw@calderasystems.com>

    updated for change in file structure- removed old dockwidget code

    Further progress on porting, configure dialog almost done

2000/05/30  Wynn Wilkes <wynnw@calderasystems.com>

    KNotes rewrite:
     - changed config file to use KConfig
     - use KDockWindow and KUniqueApplication
     - Changed structure to make smaller files

2000/01/30  Charles Samuels <charles@kde.org>

    This is my daily huge commit for KAboutData.  There are also patches for
    KCmdLineArgs (so it works).  Ktop is really doing bad folks.

2000/01/03  Espen Sand <espen@kde.org>

    Using KContextMenuManager to decide when to display popup menus.
    I do this for the popup menu in the taskbar as well. I assume this
    is correct?

    Replaced QPopupMenu with KPopupMenu in the taskbar widget.

1999/12/30  Espen Sand <espen@kde.org>

    * Every dialog ported to KDialogBase by translator
      requests (fixed sizes removed).

    * Undo/Redo! A no-brainer because of QMultiLineEdit.

    * Some cleanup and rearrangement of popup dialogs.

    Todo
    -----
    I think the docking pixmap has a wrong size. It
    is not aligned with the Display Property pixmap in kicker.



Old KNotes ChangeLog (KDE 1.x):
===============================

1999-10-16  Harri Porten  <porten@kde.org>

	* knotes.cpp: applied Unicode patch from Ming-Che Chuang
	<r8921131@ms1.cc.ntu.edu.tw>

1999-09-25  Harri Porten  <porten@kde.org>

	* alarm.cpp: remove (A) from lable when unsetting alarm
	(patch by Michael Haeckel <Michael.Haeckel@stud.uni-bayreuth.de>

Tue Aug  3 02:23:09 1999  Carsten Pfeiffer  <pfeiffer@kde.org>

	* added standard accelerator keys (new, print, save, help, close, quit)
	* added "always on top", configurable in the popupmenu
	* added possibility to play a sound when an alarm is activated, 
	  configurable in the defaults dialog
	* replaced the custom spinboxes with QSpinBoxes and made the dialog use
	  layout management (still not perfect, yet)

1999-06-07  Petter Reinholdtsen <pere@td.org.uit.no>
	* knotes.cpp: Changed text Quit to Exit to match KDE style guide.

1999-05-22  Dirk A. Mueller  <dmuell@gmx.net>

	* Ported to the Qt DND classes. It accepts QTextDrag, handled by 
	QMultiLineEdit and QUrlDrag. 

1999-03-07  Harri Porten  <porten@kde.org>

	* make it compile with Qt 2.0.
	* knotes.cpp: adapt to different id numbering of QPopupMenu
	* docking.cpp: get along without the PMERROR macro whose i18n() did not
	get parsed by msgfmt.

Tue Feb 16 09:34:25 1999  David Faure  <faure@kde.org>

	* Added option "dock in panel" (to disable docking)
	Docking is automatically re-enabled if the last note is deleted
	* Move options submenu to toplevel RMB menu (too many submenus!)
	* Re-added "Quit" menu entry (in order to quit when docking is off)

1999-02-16  Harri Porten  <porten@kde.org>

	* fixed SIGSEV caused by double-clicking on empty places.
	* introduced a simple sessionWidget that will catch the
        saveYourself() signal from the session manager and invoke saving all
        data. This is more robust than having concurring methods in every
        widget and works without the saved_already_for_session_management
        variable that was NOT unset if the user cancelled the shutdown (bug !)
	* renaming: missing slash broke renaming.
        * set atomic flag in cleanup(). Hope to have avoided occasional crash
        leading to data loss.
	* Replaced ~/.kde with KApplication::localkdedir()
        * option menu: disabled illogical switch between "3D frame" and
        "no frame" label. It is a checkable entry!

Fri May 29 05:36:36 1998  Bernd Johannes Wuebben  <wuebben@math.cornell.edu>

	* KNotes are now automatically saved all 15 minutes. 
	* added explicit save command on request.

Thu Apr  9 03:21:54 1998  Bernd Johannes Wuebben  <wuebben@math.cornell.edu>

	* knotes recognizes urls now.
	* Fixed up knotes and implemented docking properly

Thu Aug  7 18:50:59 1997  Bernd Johannes Wuebben  <wuebben@petit.cornell.edu>

	* knotes.cpp: knotes now save themselves on X sever exit
	
Mon Nov 17 21:32:28 1997  didier Belot <dib@avo.fr>

	* added all necessary stuff for locale (klocale->translate())

Sat Nov 22 13:13:05 1997 Matthias Ettrich <ettrich@kde.org>

	* sessionmanagement: uses kwm properties now, not only geometry info
	* look: pretty thin border. KPostit does no longer inherit QMultiline
	        but simply QFrame. New class: KPostitMultilineEdit.
	        New QMessage box for warning. Icon+Miniicon.
	* feel: moving possible with the label, rmb menu contains toDesktop
	        and sticky, notes are activated not only raised. Alt-F4
	        can remove a note now.
	* invokation: change: siguser1 will give you a new knote (like
	        taking a new paper from a block).
	        "-knotes_restore" used for session management.
	        Do NOT use "-restore" since kapplication filters this!
