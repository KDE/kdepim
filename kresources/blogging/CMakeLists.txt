
include_directories( ${CMAKE_SOURCE_DIR}/kresources/lib ${CMAKE_SOURCE_DIR}/kresources/blogging/libkblog/  )


########### next target ###############

set(kcal_blogging_LIB_SRCS 
   API_Blog.cpp 
   API_Blogger.cpp 
   xmlrpcjob.cpp 
   bloggingglobals.cpp 
   bloggingcalendaradaptor.cpp 
   kcal_resourceblogging.cpp 
   kcal_resourcebloggingconfig.cpp 
   kcal_resourceblogging_plugin.cpp )

kde4_automoc(${kcal_blogging_LIB_SRCS})

kde4_add_library(kcal_blogging SHARED ${kcal_blogging_LIB_SRCS})

target_link_libraries(kcal_blogging  ${KDE4_KDECORE_LIBS} kgroupwarebase ${KDE4_KCAL_LIBS} kdepim)

set_target_properties(kcal_blogging PROPERTIES VERSION 1.0.0 SOVERSION 1 )
install(TARGETS kcal_blogging  DESTINATION ${LIB_INSTALL_DIR})


########### next target ###############

set(kcal_blogging_PART_SRCS ${CMAKE_CURRENT_SOURCE_DIR}/dummy.cpp )

kde4_automoc(${kcal_blogging_PART_SRCS})

file(WRITE ${CMAKE_CURRENT_SOURCE_DIR}/dummy.cpp "//autogenerated file by cmake\n")
kde4_add_plugin(kcal_blogging ${kcal_blogging_PART_SRCS})



target_link_libraries(kcal_blogging  ${KDE4_KDECORE_LIBS} )

install(TARGETS kcal_blogging  DESTINATION ${PLUGIN_INSTALL_DIR})


########### install files ###############

install( FILES blogging.desktop  DESTINATION ${SERVICES_INSTALL_DIR}/kresources/kcal)


