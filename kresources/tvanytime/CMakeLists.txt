



########### next target ###############

set(kcal_tvanytime_LIB_SRCS 
   kcal_resourcetvanytime.cpp 
   kcal_resourcetvanytimeconfig.cpp 
   kcal_tvanytimeprefs.cpp 
   service.cpp 
   kcal_resourcetvanytime_plugin.cpp )

kde4_automoc(kcal_tvanytime ${kcal_tvanytime_LIB_SRCS})

kde4_add_kcfg_files(kcal_tvanytime kcal_tvanytime_LIB_SRCS kcal_tvanytimeprefsbase.kcfgc )

kde4_add_library(kcal_tvanytime SHARED ${kcal_tvanytime_LIB_SRCS})

target_link_libraries(kcal_tvanytime  ${KDE4_KDECORE_LIBS} ${KDE4_KCAL_LIBS} kdepim)

set_target_properties(kcal_tvanytime PROPERTIES VERSION 1.0.0 SOVERSION 1 )
install(TARGETS kcal_tvanytime  DESTINATION ${LIB_INSTALL_DIR})


########### next target ###############

set(kcal_tvanytime_PART_SRCS dummy.cpp )

kde4_automoc(kcal_tvanytime ${kcal_tvanytime_PART_SRCS})

file(WRITE dummy.cpp "//autogenerated file by cmake\n")
kde4_add_plugin(kcal_tvanytime ${kcal_tvanytime_PART_SRCS})

kde4_install_libtool_file( ${PLUGIN_INSTALL_DIR} kcal_tvanytime )

target_link_libraries(kcal_tvanytime  ${KDE4_KDECORE_LIBS} )

install(TARGETS kcal_tvanytime  DESTINATION ${PLUGIN_INSTALL_DIR})


########### install files ###############

install( FILES kcal_tvanytime.desktop  DESTINATION ${SERVICES_INSTALL_DIR}/kresources/kcal)


