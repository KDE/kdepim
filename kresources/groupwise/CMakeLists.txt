
add_subdirectory( soap ) 
add_subdirectory( kioslave ) 




########### next target ###############

set(kcal_groupwise_LIB_SRCS 
   kcal_resourcegroupwise.cpp 
   kcal_resourcegroupwiseconfig.cpp 
   kcal_groupwiseprefs.cpp 
   groupwisesettingswidget.cpp 
   kcal_resourcegroupwise_plugin.cpp )


kde4_add_ui_files(kcal_groupwise_LIB_SRCS groupwisesettingswidgetbase.ui )

kde4_add_kcfg_files(kcal_groupwise_LIB_SRCS kcal_groupwiseprefsbase.kcfgc )

kde4_add_plugin(kcal_groupwise ${kcal_groupwise_LIB_SRCS})

target_link_libraries(kcal_groupwise  ${KDE4_KDECORE_LIBS} gwsoap ${KDE4_KCAL_LIBS} kdepim)

set_target_properties(kcal_groupwise PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
install(TARGETS kcal_groupwise  DESTINATION ${PLUGIN_INSTALL_DIR})


########### next target ###############

set(kabc_groupwise_LIB_SRCS kabc_resourcegroupwise.cpp kabc_resourcegroupwiseconfig.cpp kabc_resourcegroupwise_plugin.cpp )


kde4_add_kcfg_files(kabc_groupwise_LIB_SRCS kabc_groupwiseprefs.kcfgc )

kde4_add_plugin(kabc_groupwise ${kabc_groupwise_LIB_SRCS})

target_link_libraries(kabc_groupwise  ${KDE4_KDECORE_LIBS} gwsoap ${KDE4_KCAL_LIBS} kdepim ${KDE4_KABC_LIBS})

set_target_properties(kabc_groupwise PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
install(TARGETS kabc_groupwise  DESTINATION ${PLUGIN_INSTALL_DIR})


########### next target ###############

#set(kcal_groupwise_PART_SRCS ${CMAKE_CURRENT_SOURCE_DIR}/dummy.cpp )


#file(WRITE ${CMAKE_CURRENT_SOURCE_DIR}/dummy.cpp "//autogenerated file by cmake\n")
#kde4_add_plugin(kcal_groupwise ${kcal_groupwise_PART_SRCS})



#target_link_libraries(kcal_groupwise  ${KDE4_KDECORE_LIBS} )

#install(TARGETS kcal_groupwise  DESTINATION ${PLUGIN_INSTALL_DIR})


########### next target ###############

#set(kabc_groupwise_PART_SRCS ${CMAKE_CURRENT_SOURCE_DIR}/dummy.cpp )


#file(WRITE ${CMAKE_CURRENT_SOURCE_DIR}/dummy.cpp "//autogenerated file by cmake\n")
#kde4_add_plugin(kabc_groupwise ${kabc_groupwise_PART_SRCS})



#target_link_libraries(kabc_groupwise  ${KDE4_KDECORE_LIBS} )

#install(TARGETS kabc_groupwise  DESTINATION ${PLUGIN_INSTALL_DIR})


########### install files ###############

install( FILES kabc_groupwise.desktop  DESTINATION ${SERVICES_INSTALL_DIR}/kresources/kabc)
install( FILES kcal_groupwise.desktop  DESTINATION ${SERVICES_INSTALL_DIR}/kresources/kcal)

