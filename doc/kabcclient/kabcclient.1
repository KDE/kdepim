.\" Process this file with
.\" groff -man -Tascii kabcclient.1
.\"
.TH KABCCLIENT 1
.SH NAME
kabcclient \- commandline client for the
.SM KDE
addressbook
.SH SYNOPSIS
.B kabcclient [\-A | \-R | \-M | \-S | \-L] [\-\-match-case] [\-\-nosave]
.B [\-ic
.I codec
.B ] [\-if
.I format
.B ] [\-if\-opts
.I format\-options
.B [\-oc
.I codec
.B ] [\-of
.I format
.B ] [\-of\-opts
.I format\-options
.B ] [
.I input\-data
.B ... ]
.SH DESCRIPTION
.B kabcclient
allows commandline access to the
.SM KDE
addressbook, for example in shell scripts.
It supports input from stdin or through additional commandline arguments.
Output is always written to stdout.
.SH OPTIONS
.TP
.B Operation modes
.TP
.B \-A, \-\-add
Add a new contact entry to the addressbook
.TP
.B \-R, \-\-remove
Removes an existing contact entry from the addressbook
.TP
.B \-M, \-\-merge
Merges input data with an existing contact entry from the addressbook.
This appends any new information to the already existing one
.TP
.B \-S, \-\-search
Searches the addressbook for matching contact entries
.TP
.B \-L, \-\-list
Lists all contact entries of the addressbook
.TP
.B Input options
.TP
.B \-ic, \-\-input\-codec
Pass input text through a specified text encoding. See
.BI \-ic " help
for additional information about input codecs. Default is
.I local
which will use the codec for the current
.BR locale (5)
settings
.TP
.B \-if, \-\-input\-format
Parses the input text according to given formatting rules. See
.BI \-if " help
for available formats. Default is
.I search
.TP
Instead of reading input text kabcclient can show a dialog for selecting contacts using the input format
.I dialog
.TP
.B \-if\-opts, \-\-input\-format\-options
Additional options for the chosen input format. Can be optional as well as
mandatory depending on the format. See
.BI \-if\-opts " help
for availble format options
.TP
.B Output options
.TP
.B \-oc, \-\-output\-codec
Pass output text through a specified text encoding. See
.BI \-oc " help
for additional information about output codecs. Default is
.I local
which will use the codec for the current
.BR locale (5)
settings.
.TP
.B \-of, \-\-output\-format
Formats the output text according to given formatting rules. See
.BI \-of " help
for available formats. Default is
.I vcard
.TP
.B \-of\-opts, \-\-output\-format\-options
Additional options for the chosen output format. Can be optional as well as
mandatory depending on the format. See
.BI \-of\-opts " help
for availble format options
.TP
.B Additional options
.TP
.B \-\-match\-case
Use case sensitive text matching when comparing input text with contact entries
.TP
.B \-\-nosave
Perform information changing operations like
.B \-A, \-R
or
.B \-M
only in memory but do not write the changes back to the addressbook
.SH DIAGNOSTICS
As usual an exit status of zero indicates success.
Depending on the chosen operation mode a non-zero exit status indicates
a certain problem the application encountered
.TP
.B ADD
.TP
.B 1
Reading the input text failed
.TP
.B 2
Creating a suitable contact entry from the input text failed, e.g. not
data or wrongly formatted input for the chosen input format
.TP
.B 3
Saving the addressbook changes failed. This can be caused for example by
other applications currently locking the addressbook.
.TP
.B REMOVE
.TP
.B 1
Reading the input text failed
.TP
.B 2
The program could not remove any contact entry from the addressbook. This
can be caused by failing to parse the input text, failing to find a matching
contact entry in the addressbook or finding more than one matching contact
entry in the addressbook. In the latter case an error message is written to
stderr
.TP
.B 3
Saving the addressbook changes failed. This can be caused for example by
other applications currently locking the addressbook.
.TP
.B MERGE
.TP
.B 1
Reading the input text failed
.TP
.B 2
The program could not merge the input with any contact entry from the addressbook.
This can be caused by failing to parse the input text, failing to find a matching
contact entry in the addressbook or finding more than one matching contact
entry in the addressbook. In the latter case an error message is written to
stderr
.TP
.B 3
Saving the addressbook changes failed. This can be caused for example by
other applications currently locking the addressbook.
.TP
.B SEARCH
.TP
.B 1
Reading the input text failed
.TP
.B 2
The program could not find any matching contact entry in the addressbook.
This can be caused by failing to parse the input text or failing to find a matching
contact entry in the addressbook
.SH EXAMPLES
.PP
.B Look for contact entries with "Joe" in either name or email addresses
.RS
kabcclient -S Joe
.RE

.B Do the same but use case sensitive matching
.RS
kabcclient --match-case -S Joe
.RE

.B Do the same but read input text from stdin
.RS
echo "Joe" | kabcclient --match-case -S
.RE

.B Try to add a new contact entry using data from a formatted email address
.RS
kabcclient --nosave --add -if email "Marilyn Monroe <mmonroe@moviestars.com>"
.RE

.B Do the same but this time really save the changed addressbook
.RS
kabcclient --add -if email "Marilyn Monroe <mmonroe@moviestars.com>"
.RE

.B Listing the available input formats
.RS
kabcclient -if help
.RE

.B Listing the available output formats
.RS
kabcclient -of help
.RE

.B Listing the available options for the 'email' output format
.RS
kabcclient -of email -of-opts help
.RE

.B Listing all email addresses for all contacts containing 'Marilyn'
.RS
kabcclient -of email -of-opts allemails -S Marilyn
.RE

.B Remove all contacts the user selected in the contact selection dialog
.RS
kabcclient --remove -if dialog
.RE

.B Export selected contacts to a VCard (default output format) file
.RS
kabcclient -S -if dialog > contacts.vcf
.RE

.SH AUTHOR
This manual page was written by Kevin Krammer <kevin.krammer@gmx.at>.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU General Public License, Version 2 any
later version published by the Free Software Foundation.

On Debian systems, the complete text of the GNU General Public License
can be found in /usr/share/common-licenses/GPL.

