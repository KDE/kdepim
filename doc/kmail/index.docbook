<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.1.2-Based Variant V1.1//EN" "dtd/kdex.dtd" [
  <!ENTITY kappname "&kmail;">
  <!ENTITY package "kdenetwork">
  <!ENTITY % addindex "IGNORE">
  <!ENTITY % English "INCLUDE" > <!-- change language only here -->
]>
<book lang="&language;">
<bookinfo>
<title>The &kmail; Handbook</title>

 <!-- Note:
* please do not mix up the formatting more than necessary so that
  "cvs diff" makes usefull output
* no short forms
* use <warning> instead of <caution>
$Id$
-->

<!-- TODO:
* guisubmenu vs. guititem ??
* more about security?

* Configure KMail: "page" or "tab", but no mix of both!
* add section for drag'n'drop?
* "Using other mailbox..." -> sounds strange?

* use better markup instead of 'quote'?
* fix my adverb vs. adjective mistakes

* coherent wording for section / tab / ...
* <menuchoice><guimenu>xxx , or is <guimenu>xxx enough?
* <guiicon> vs. <guibutton>
* spelling:  popup vs pop up, frontend vs front end

* message vs. mail vs. email -> using "message" everywhere
* window vs. dialog: a dialog is modal, a window is not (I think)

* in KMail: kmail vs. KMail
-->

<authorgroup>
<author>
<firstname>Daniel</firstname>
<surname>Naber</surname>
<affiliation><address>
<email>daniel.naber@t-online.de</email>
</address></affiliation>
</author>

<author>
<firstname>David</firstname>
<surname>Rugge</surname>
<affiliation><address>
<email>davidrugge@mediaone.net</email>
</address></affiliation>
</author>

<!-- TRANS:ROLES_OF_TRANSLATORS -->  

</authorgroup>

<date>2002-10-03</date>
<releaseinfo>1.05.00</releaseinfo>

<copyright>
<year>1999</year>
<year>2000</year>
<year>2001</year>
<year>2002</year>
<holder>David Rugge</holder>
</copyright>

<abstract>
	
<para>&kmail; is &kde;'s powerful and user friendly email client.</para>

</abstract>

<keywordset>
<keyword>KDE</keyword>
<keyword>Mail</keyword>
<keyword>email</keyword>
<keyword>Client</keyword>
<keyword>POP3</keyword>
<keyword>IMAP</keyword>
<keyword>PGP</keyword>
<keyword>GnuPG</keyword>
<keyword>GPG</keyword>
</keywordset>
</bookinfo>

<chapter id="intro">
<title>Introduction</title>

<para>The &kmail; Team welcomes you to &kmail;, a user-friendly email client for the
K Desktop Environment. Our goal is to make &kmail; a program that is beautiful
and intuitive without sacrificing power. </para>

<para>If you have never set up an email client on a &UNIX; system
before, we suggest that you read through the <link
linkend="getting-started">Getting Started</link> section first so that
your setup goes smoothly.</para>

<para>Since most people do not read documentation anyway, here is a
collection of the most helpful tips:</para>

<itemizedlist>
<listitem>
<para>You do not have to use your mouse to use &kmail;. Everything can
be done by using <link linkend="keyboard-shortcuts">Keyboard Shortcuts</link>.</para>
</listitem>
<listitem>
<para>Although &kmail; can be considered reliable you should keep 
backups of your messages, &ie; just copy the files and directories 
in <filename class="directory">~/Mail</filename>
(including the hidden ones that start with a dot) to a safe place.</para>
</listitem>
<!-- TODO: add other tips for "invisible" features here -->

</itemizedlist>

<para>&kmail;'s homepage is at <ulink
url="http://kmail.kde.org">http://kmail.kde.org</ulink>, an archive of the
developer's mailing list is at <ulink
url="http://lists.kde.org/?l=kde-kmail&amp;r=1&amp;w=2">lists.kde.org</ulink>.</para>

<para>Please report bugs in &kmail; using
<menuchoice><guimenu>Help</guimenu><guimenuitem>Report
Bug...</guimenuitem></menuchoice>.</para>

<para>We hope you will enjoy &kmail;!</para>

</chapter>

<chapter id="getting-started">
<title>Getting Started</title>

<para>This is a short introduction to &kmail; and its usage so you can
start working with it right away. For more in-depth information see the
<link linkend="using-kmail">Using &kmail;</link> section. Note that
&kmail;'s installation is described in <link linkend="installation">the
appendix</link>.</para>

<para>Invoking &kmail; for the first time creates a directory called
<filename class="directory">Mail</filename> in your home directory.
This directory contains the initial folders
(<filename>inbox</filename>, <filename>outbox</filename>,
<filename>sent-mail</filename>, <filename>trash</filename> and
<filename>drafts</filename>). Use <menuchoice>
<guimenu>Settings</guimenu> <guimenuitem>Configure
&kmail;...</guimenuitem> </menuchoice> to enter some initial information
so &kmail; will be able to properly retrieve and send your
messages.</para>

<para>The Configure window consists of six sections:
<guilabel>Identities</guilabel>, <guilabel>Network</guilabel>,
<guilabel>Appearance</guilabel>, <guilabel>Composer</guilabel>, 
<guilabel>Security</guilabel>, and
<guilabel>Folders</guilabel>.</para>

<para>To begin sending and receiving messages you will only have to
change some settings in the <guilabel>Identities</guilabel> and
<guilabel>Network</guilabel> pages.</para>

<sect1 id="setting-your-identity">
<title>Setting your Identity</title>

<para>The settings in the <guilabel>Identities</guilabel> page are fairly
straightforward. Select your default identity and click <guibutton>Modify</guibutton>.
Fill in the <guilabel>Name</guilabel> field with your
full name (&eg; <userinput>John Doe</userinput>) and the
<guilabel>Organization</guilabel> field (optional) with the appropriate
information. Next, fill in the <guilabel>Email Address</guilabel> field with your
email address (&eg; <userinput>john@somewhere.org</userinput>). If you are 
using <application>PGP</application> or
<application>GnuPG</application> you need to set your key in 
the <guilabel>OpenPGP Key</guilabel> field in the <guilabel>Advanced</guilabel>
tab. Optionally, go to the <guilabel>Signature</guilabel> tab and
enter your signature. This is a short text that will be automatically
appended to all your messages.</para>

</sect1>

<sect1 id="setting-up-your-account">
<title>Setting up your Account</title>

<para>The <guilabel>Network</guilabel> page contains the settings that
tell &kmail; how to send and receive your email messages. Many of these settings
can vary greatly depending on the setup of your system and on the kind
of network that your mail server is located in. If you do not know what
setting to choose or what to put in a field, consult your Internet
Service Provider (<acronym>ISP</acronym>) or system
administrator.</para>

<sect2 id="sending-mail">
<title>Sending Messages</title>

<para>The <guilabel>Sending</guilabel> tab provides a list of
ways to send messages. The first item in the list is the default
way to send messages. Using the <guibutton>Add...</guibutton>
button you can choose between two different ways of sending messages:
<guilabel>SMTP</guilabel> and
<guilabel>Sendmail</guilabel>. &Sendmail; here
means a local software installation - this has a
reputation of being difficult to set up, so if you do not already have a
working &Sendmail; configuration, choose
<guilabel>SMTP</guilabel> and fill in the <guilabel>Name</guilabel>
field with a descriptive name 
(&eg; <userinput>My Mail Account</userinput>)
and the <guilabel>Host</guilabel>
field with the name and domain of your mail server 
(&eg; <userinput>smtp.provider.com</userinput>). You will probably
not need to change the <guilabel>Port</guilabel> setting (the default is
<userinput>25</userinput>).</para>

<!-- TODO: more specific link -->
<para>If you do want to use &Sendmail; and you are using a dial-up
connection, follow the instructions for setting up sendmail for a
dial-up connection in the <link linkend="faq">&FAQ;</link>
section.</para>

<para>The way of sending messages configured here will be used for
your default identity and for all other identities that have no own
way of sending messages. You can use different ways of sending
messages for different identities by selecting the <guilabel>Special
transport</guilabel> checkbox in the <guilabel>Advanced</guilabel>
tab of the <guilabel>Identity</guilabel> section.</para>

<para>A description of the other options can be found
in the <link linkend="configure-network-sending">Configuration</link>
chapter.</para>

</sect2>

<sect2 id="receiving-mail">
<title>Receiving Messages</title>

<para>To set up an account so you can receive mail, press the
<guibutton>Add...</guibutton> button in the <guilabel>Receiving</guilabel>
tab. You will then be prompted for the type of your email account.  Most users should
select <guilabel>POP3</guilabel> or <guilabel>IMAP</guilabel>. If
you want to use a local mailbox file, please see the <link linkend="faq-file-locking">FAQ
about file locking</link>.</para>
        
<para>You will then be presented with
the <guilabel>Add account</guilabel> window. First, fill in the
<guilabel>Name</guilabel> field to name your account. You can choose any name
you like.  <guilabel>Login</guilabel>, <guilabel>Password</guilabel>, and
<guilabel>Host</guilabel> should be filled in with the appropriate information
from your <acronym>ISP</acronym> or system administrator. You should not
need to change the <guilabel>Port</guilabel> setting (the default for POP3 is
<userinput>110</userinput>, the default for <acronym>IMAP</acronym> is
<userinput>143</userinput>).</para>
        
<sect3 id="receiving-mail-imap">
<title>Options only relevant to <acronym>IMAP</acronym></title>

<para>If you are using <acronym>IMAP</acronym>, you can optionally
specify a path in the <guilabel>Prefix to folders</guilabel> field. This
tells &kmail; where it can find your folders on the server. If you also
have a shell account on the server and the messages are stored in your home
directory it might be useful to store the messages in a subdirectory
<filename class="directory">Mail</filename>. Use this as a value in
the <guilabel>Prefix to folders</guilabel> field so that &kmail; does
not mix up mailbox files and other files. If you are not interested in 
this feature, simple leave the field blank.</para>

<para>If you check <guilabel>Automatically compact folders</guilabel> 
&kmail; removes the messages you deleted from the
server as soon as you leave a folder. Otherwise the messages are
only marked as deleted and it is up to you to compact the folders
manually by using the menu item <menuchoice><guimenu>File</guimenu><guimenuitem>Compact All
Folders</guimenuitem></menuchoice>.</para>

<para>If you check <guilabel>Show hidden folders</guilabel>,
folders whose name starts with a dot are also displayed.</para>

</sect3>

<sect3 id="receiving-mail-pop3">
<title>Options only relevant to POP3</title>

<para>Select <guilabel>Delete message from server after fetching</guilabel> if you do not want to
leave your messages on the server after you downloaded it.</para>

<para>Select <guilabel>Exclude from &quot;Check Mail&quot;</guilabel> if you
do not want to check this account whenever you use <menuchoice><guimenu>File</guimenu><guimenuitem>Check
Mail</guimenuitem></menuchoice>.  You can still check for new messages on this account
with <menuchoice><guimenu>File</guimenu><guimenuitem>Check Mail
In</guimenuitem></menuchoice>.</para>

<para>Select <guilabel>Enable interval mail checking</guilabel> if you want
&kmail; to check for new messages automatically. The interval can be specified below
under <guilabel>Check interval (minutes)</guilabel>.</para>

<para><guilabel>inbox</guilabel> is the default folder for incoming
messages. If you want to change that for some reason, you can do so with
<guilabel>Destination folder</guilabel>. But what you probably want is a
<link linkend="filters">filter</link>, which has nothing to do with this
option.</para>

<para>With <guilabel>Precommand</guilabel> you can specify any program that &kmail;
will execute just before fetching mail. Please specify the full path 
(do not use <quote>~</quote>) and note that &kmail; will not continue 
until the program returns.</para>

<para>On the <guilabel>Extras</guilabel> tab you can select <guilabel>Use
pipelining for faster mail download</guilabel> if this is supported by your
server. You should carefully test this to make sure it works safely.</para>

</sect3>

<sect3 id="receiving-mail-imap-pop3">
<title>Options for both <acronym>IMAP</acronym> and POP3</title>

<!-- TODO: move all this, this isn't important for beginners?! -->
<para>If you select <guilabel>Store POP password in configuration
file</guilabel> resp. <guilabel>Store IMAP password in configuration
file</guilabel> &kmail; will remember your password so you will not have to
type it every time you start &kmail; and fetch new mail.</para>

<warning><para>Be warned that &kmail; cannot really encrypt your password, so
people who can access your configuration files (&eg; system
administrators) can easily get your password if you select this
option.</para></warning>

<para>&kmail; supports encryption via <guilabel>SSL</guilabel> and
<guilabel>TLS</guilabel> (<guilabel>TLS</guilabel> should be preferred
if it is available).</para>

<para>For POP3 &kmail; supports:</para>

<itemizedlist>
<listitem><para><guilabel>Clear text</guilabel>, </para></listitem>
<listitem><para><guilabel>PLAIN</guilabel>, </para></listitem>
<listitem><para><guilabel>LOGIN</guilabel>, </para></listitem>
<listitem><para><guilabel>CRAM-MD5</guilabel> (recommended 
if <guilabel>DIGEST-MD5</guilabel> is not available),</para></listitem>
<listitem><para><guilabel>DIGEST-MD5</guilabel> (recommended) and</para></listitem>
<listitem><para><guilabel>APOP</guilabel> authentication.</para></listitem>
</itemizedlist>

<para><guilabel>DIGEST-MD5</guilabel>, <guilabel>CRAM-MD5</guilabel> and
<guilabel>APOP</guilabel> are secure on their own, the other
options are only secure when used together with <guilabel>SSL</guilabel>
or <guilabel>TLS</guilabel>.  You should only use <guilabel>Clear
text</guilabel> if your server does not support any of the other
authentication methods. Additionally, for <acronym>IMAP</acronym>
<guilabel>Anonymous</guilabel> is supported, but <guilabel>APOP</guilabel>
is not. Use the <guibutton>Check what the server supports</guibutton> button
on the <guilabel>Extras</guilabel> resp. <guilabel>Security</guilabel> tab
to automatically select the most secure settings supported by your server.</para>

<para>You are now ready to send and receive mail. For
<acronym>IMAP</acronym>, just open your folders in the
folder tree in &kmail;'s main window. &kmail; then connects to your
server and displays the messages it finds. For POP3 use
<menuchoice><guimenu>File</guimenu><guimenuitem>Check
Mail</guimenuitem></menuchoice>.</para>

</sect3>

</sect2>

</sect1>

<sect1 id="testing-your-setup">
<title>Testing your Setup</title>

<para>First, you should send yourself a message to test your
configuration. To send a message, either hit <keycombo
action="simul">&Ctrl;<keycap>N</keycap></keycombo>, select the
<guiicon>New Message</guiicon> icon  or select
the <menuchoice><guimenu>Message</guimenu><guimenuitem>New
Message...</guimenuitem></menuchoice> menu item.  The
<link linkend="the-composer-window">composer window</link> will appear. Fill in the
<guilabel>To:</guilabel> field with your email address and type
something in the <guilabel>Subject</guilabel> field. Send the message by
selecting <menuchoice><guimenu>Message</guimenu> <guimenuitem>Send</guimenuitem>
</menuchoice>.</para>
      
<para>To check your email, select
<menuchoice><guimenu>File</guimenu><guimenuitem>Check
Mail</guimenuitem></menuchoice>. In the lower right corner of the main
window, a progress bar will indicate how many messages are being
downloaded. If you receive the message you just sent, then
congratulations!  If, however, you receive any error messages while
testing your setup, make sure that your network connection is working
and recheck your settings at
<menuchoice><guimenu>Settings</guimenu> <guimenuitem>Configure
&kmail;...</guimenuitem></menuchoice>.</para>

</sect1>

</chapter>

<chapter id="using-kmail">
<title>Using &kmail;</title>

<sect1 id="the-mail-reader-window">
<title>The Main Window</title>

<para>The main window is the window that appears
when &kmail; is started. It is divided into three panes:</para>

<variablelist>
<varlistentry>
<term>Folders pane (left pane)</term>
<listitem>
<para>This pane contains the list of your message folders (other email programs
may call them mailboxes). To select a folder, simply click on
it. The messages contained in the folder will now appear in the Headers
pane. The folder list can be displayed in both a short view, which takes up only
a small portion of the left side of the screen, and a long view, which takes up the 
entire left side of the screen but is able to show more mailboxes. You can toggle
between these two views under <guilabel>Appearance</guilabel>/<guilabel>Layout</guilabel>
in the <menuchoice><guimenu>Settings</guimenu><guimenuitem>Configure
&kmail;...</guimenuitem></menuchoice> dialog. Also see the <link
linkend="folders">Folders Section</link> for more information about how to use
folders.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>Headers pane (upper right pane)</term>
<listitem>
<para>This pane lists header information (message Status Flags, Sender, Subject,
Date, optionally Size) for the messages in the currently selected folder. Clicking on a header
will select that message and display it in the Message pane. You can also select
more than one message by holding down the &Ctrl; key when clicking on messages.
You may sort the messages by clicking on the column that you wish to
sort. If you click on the same column more than once, sort order will toggle
between ascending/descending.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>Message pane (lower right pane)</term>
<listitem>
<para>This pane displays the currently selected message. Attachments appear
at the bottom of the message, either as icons or in a separate part of the pane,
depending on <menuchoice><guimenu>View</guimenu>
<guimenuitem>Attachments</guimenuitem></menuchoice>.
You can scroll through the message page by page
using the <keycap>Page Up</keycap> and <keycap>Page down</keycap> keys, or line
by line using the <keycap>up arrow</keycap> and <keycap>down arrow</keycap>
keys. You can also use <link linkend="keyboard-shortcuts">key shortcuts</link> to skip through 
your messages without having to use the mouse.</para>
</listitem>
</varlistentry>
</variablelist>

</sect1>

<sect1 id="keyboard-shortcuts">
<title>Keyboard Shortcuts</title>

<para>The following keyboard shortcuts are supported in the main window:</para>

<informaltable>
<tgroup cols="2">
<thead>
<row>
<entry>Keyboard Shortcut</entry>
<entry>Action</entry>
</row>
</thead>
<tbody>
<row>
<entry><keycap>Space</keycap></entry>
<entry>Scroll down in the current message or go to the next unread message if you are already 
at the bottom.</entry>
</row>
<row>
<entry><keycap>Right Arrow</keycap> or <keycap>N</keycap></entry>
<entry>Go to the next message in the current folder.</entry>
</row>
<row>
<entry><keycap>Left Arrow</keycap> key or <keycap>P</keycap></entry>
<entry>Go to the previous message in the current folder.</entry>
</row>
<row>
<entry><keycap>+</keycap></entry>
<entry>Go to the next unread message in the current folder.</entry>
</row>
<row>
<entry><keycap>-</keycap></entry>
<entry>Go to the previous unread message in the current folder.</entry>
</row>
<row>
<entry><keycombo action="simul">&Ctrl;<keycap>+</keycap></keycombo></entry>
<entry>Go to the next folder with unread messages.</entry>
</row>
<row>
<entry><keycombo action="simul">&Ctrl;<keycap>-</keycap></keycombo></entry>
<entry>Go to the previous folder with unread messages.</entry>
</row>
<row>
<entry><keycombo action="simul">&Ctrl;<keycap>Left Arrow</keycap></keycombo></entry>
<entry>Walk upwards in the list of folders. Use 
<keycombo action="simul">&Ctrl;<keycap>Space</keycap></keycombo> to actually
enter the folder.</entry>
</row>
<row>
<entry><keycombo action="simul">&Ctrl;<keycap>Right Arrow</keycap></keycombo></entry>
<entry>Walk downwards in the list of folders. Use 
<keycombo action="simul">&Ctrl;<keycap>Space</keycap></keycombo> to actually
enter the folder.</entry>
</row>
<row>
<entry><keycombo action="simul">&Ctrl;<keycap>Space</keycap></keycombo></entry>
<entry>Enter the folder that has focus, &ie; the folder that you navigated
to using <keycombo action="simul">&Ctrl;<keycap>Left Arrow</keycap></keycombo> or
<keycombo action="simul">&Ctrl;<keycap>Right Arrow</keycap></keycombo>.</entry>
</row>
<row>
<entry><keycombo action="simul">&Shift;<keycap>Left Arrow</keycap></keycombo> and
<keycombo action="simul">&Shift;<keycap>Right Arrow</keycap></keycombo></entry>
<entry>Select messages in the header pane, starting with the current message.</entry>
</row>
</tbody>
</tgroup>
</informaltable>

</sect1>

<sect1 id="the-composer-window">
<title>The Composer Window</title>

<para>The composer window is used to write new messages.
It can be invoked via <menuchoice><guimenu>Message</guimenu>
<guimenuitem>New Message...</guimenuitem></menuchoice>
menu or from the <guiicon>New Message</guiicon> icon on the main
window.</para>

<sect2 id="composing-a-message">
<title>Composing a Message</title>

<para>To write your message, fill in the appropriate fields in the
composer window. Use the <guimenu>View</guimenu> menu
to select which header fields are displayed. The <guimenuitem>Identity</guimenuitem>
field offers a <guibutton>Sticky</guibutton> option. If it is checked,
the current identity will become the default identity when you open
a new composer next time.</para>

<para>There are a variety of shortcuts to help
you with writing your messages. The <guibutton>...</guibutton> buttons next to
the <guilabel>To:</guilabel>, <guilabel>CC:</guilabel>, and
<guilabel>BCC:</guilabel> fields will call up the address book so that you can
select addresses from there.</para>

<para>When you start typing an address in the
<guilabel>To:</guilabel>/<guilabel>CC:</guilabel>/<guilabel>BCC:</guilabel>
fields, a popup will appear that offers matching addresses that have been used recently 
and matching addresses from your address book. If you do not like the automatic 
popup you can disable it by clicking with the &RMB; on the field and choosing 
a different completion mode.</para>

<para>Whenever you want to add more than one
recipient in one of the fields, use a comma to separate each address
from the next one. You may need to specify fully qualified addresses
(&ie; <userinput>user@domain.com</userinput>) even for local
users, depending on your system configuration.</para>

<para>When you are finished with your
message, click the <guiicon>Send</guiicon> icon (the envelope) to send
the message now, or click the <guiicon>Queue</guiicon> icon to put
the message in the outbox. If your message is not finished yet, select
<menuchoice><guimenu>Message</guimenu><guimenuitem>Save in Drafts
Folder</guimenuitem></menuchoice>. If you want to send an <link
linkend="pgp-encrypt-your-messages">encrypted</link>
or <link linkend="pgp-sign-your-messages">digitally signed</link> message, select the
<guiicon>Sign Message</guiicon> resp. <guiicon>Encrypt 
Message</guiicon> icons in the toolbar.</para>

<para>If you have installed and activated at least one of
the <link linkend="configure-security-plugins">encryption plugins</link>
then you can select whether you want to use the
built-in OpenPGP support or the plugin for encryption and/or signing.
Use the built-in OpenPGP support if you want to send clearsigned
messages or inline encrypted messages. If you want to send signed or
encrypted messages with attachments you should use one of the crypto
plugins. Please note that the built-in OpenPGP will <emphasis>not</emphasis>
sign or encrypt attachments.</para> 

</sect2>

<sect2 id="attachments">
<title>Adding Attachments</title>

<para>You can attach files to your message by using one of the methods
below:</para>

<itemizedlist>
<listitem>
<para>Click the <guiicon>Attach File</guiicon> (paper clip) icon and select the file you wish
to attach.</para>
</listitem>
<listitem>
<para>Drag a file from the desktop or another directory into the
composer window.</para> 
</listitem>
<listitem>
<para>Select one of the options in the
<menuchoice><guimenu>Attach</guimenu></menuchoice> menu.</para>
</listitem>
</itemizedlist>

<para>Once a file is attached to your message, it appears in the attachments
pane at the bottom of the composer window. You can use the
&RMB; on each attachment to <guimenuitem>View</guimenuitem>,
<guimenuitem>Save</guimenuitem> or <guimenuitem>Remove</guimenuitem>
the attachment.</para>

<para>Use the <guimenuitem>Properties...</guimenuitem> item to
open the <guilabel>Message Part Properties</guilabel> dialog.
The first field contains the attachment's &MIME;-type. Just like the <guilabel>Name</guilabel>
field, it should be automatically filled with an appropriate value. Sometimes the
&MIME;-type value may be wrong. You can then type in any &MIME;-type or
choose from the list of common &MIME;-types. You can also select an encoding
method for your file from the list of encoding options (normally, the default
value works fine). Check the <guilabel>Suggest automatic display</guilabel> option 
if you want to suggest to the recipient the automatic (inline) display of this part 
in the message preview, instead of the default icon view.</para>

<para><application>PGP</application>/<application>GnuPG</application> keys may also 
be attached to your message by using the appropriate options in the
<menuchoice><guimenu>Attach</guimenu></menuchoice> menu. <application>PGP</application>
key attachments are handled like file attachments.</para>

<!-- copied from below -->
<warning><para>Attachments will not be encrypted if you are using 
the built-in OpenPGP support. To encrypt attachments, you have to install
and configure <link linkend="configure-security-plugins">encryption plugins</link>.
</para></warning>
<!-- / copied from below -->

</sect2>

<sect2 id="checking-the-spelling-of-your-message">
<title>Checking the Spelling of your Message</title>

<para>To check the spelling of your message, select
<menuchoice><guimenu>Tools</guimenu>
<guimenuitem>Spelling...</guimenuitem></menuchoice>. &kmail; uses 
<ulink url="/kspell/">&kspell;</ulink> to
check spelling, which is the &kde; frontend to the 
<application>ispell</application> or <application>aspell</application> spelling
checker. Note that you may first need to configure the spellchecker using
<menuchoice><guimenu>Settings</guimenu>
<guimenuitem>Spellchecker...</guimenuitem></menuchoice>.</para>

</sect2>

</sect1>

<sect1 id="folders">
<title>Message Folders</title>

<para>Message Folders are used to organize your email messages. By default, all
message folders are stored in the directory <filename
class="directory">Mail</filename>, which is created in your home directory. When
you first start &kmail; the <guilabel>inbox</guilabel>,
<guilabel>outbox</guilabel>, <guilabel>sent-mail</guilabel>,
<guilabel>trash</guilabel> and <guilabel>drafts</guilabel> folders are created.
These folders each have special functions:</para>

<variablelist>
<varlistentry>
<term><guilabel>inbox:</guilabel></term>
<listitem>
<para>Where &kmail; by default puts your new messages when you ask it to check your
mail. </para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>outbox:</guilabel></term>
<listitem>
<para>Where messages are put while they are waiting to be delivered. Note that
you should not drag and drop messages here to send them, use the <guiicon>Send</guiicon>
icon in the composer window instead.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>sent-mail:</guilabel></term>
<listitem>
<para>Contains copies of all messages that you have moved to trash. </para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>trash:</guilabel></term>
<listitem>
<para>Contains all messages that you have deleted.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>drafts:</guilabel></term>
<listitem>
<para>Contains messages you started to edit but then saved to this
folder instead of sending them.</para>
</listitem>
</varlistentry>
</variablelist>

<para>You may find that the standard folders are fine for your
needs. Eventually, though, you will probably need folders to help you organize
your messages. To create a new folder, select
<menuchoice><guimenu>Folder</guimenu><guimenuitem>New Folder...</guimenuitem></menuchoice>
The <link linkend="folders-properties-window">folder properties</link> dialog
will then prompt you for the necessary information. If you ever need to change
the settings for a folder, select the folder you wish to modify in the Folders pane and select
<menuchoice><guimenu>Folder</guimenu><guimenuitem>Properties...</guimenuitem>
</menuchoice>.</para>

<para>To move messages from one folder into another, select the message(s) you
want to move and press the <keycap>M</keycap> key or select
<menuchoice><guimenu>Message</guimenu><guimenuitem>Move
To</guimenuitem></menuchoice>. A list of folders will appear.  Select the folder
from the list that you want to move the messages to.  Messages can also be moved
by dragging them from the Headers pane into the Folders pane.</para>

<para>If you want to clear all of the messages out of a folder choose
<menuchoice><guimenu>Folder</guimenu><guimenuitem>Move All Message to
Trash</guimenuitem></menuchoice>. You can use 
<menuchoice><guimenu>Folder</guimenu><guimenuitem>Delete Folder</guimenuitem></menuchoice>
to remove a folder and all its messages and sub folders.</para>

<sect2 id="folders-properties-window">
<title>Folder Properties</title>

<para>The folder's <guilabel>Properties</guilabel> dialog lets you rename and move
a folder and specify all of its properties. Note that most properties
are only available for your own folders and not for default folder like
<guilabel>inbox</guilabel> &etc;. Default folders also cannot be moved
or renamed.</para>

<para>You can make a folder a sub folder if you choose a parent
folder using the <guilabel>Belongs to</guilabel> selection. </para>

<para>The <guilabel>Folder Icons</guilabel> section lets you choose
icons that are different from the default ones in the folder list.</para>

<para>See the <link linkend="folders-format">Folder Format</link> section
for information about the <guilabel>Mailbox format.</guilabel></para>

<para>If you're going to use the folder for a mailing list you may want to add
the mailing list address in the <guilabel>Associated Mailing List</guilabel> section.
You will then be able to use
the <menuchoice><guimenu>Message</guimenu><guimenuitem>Reply
to Mailing-List...</guimenuitem></menuchoice> menu item. It will open a reply with the
mailing list address in the <guilabel>To:</guilabel> field (&ie; it will ignore
the <token>Reply-To</token> of the message). You can also click the
<mousebutton>middle</mousebutton> mousebutton in the Folders pane to post to a
mailing list that is associated with that folder.</para>

<para>The <guilabel>Old Message Expiry</guilabel> section lets you automatically
delete old messages when you exit &kmail; (depending on your settings
in &kmail;'s <guilabel>Folders</guilabel> configuration page) or
via <menuchoice><guimenu>File</guimenu><guisubmenu>Expire
All Folders</guisubmenu></menuchoice>.
<warning><para>Messages that are expired are deleted. They are <emphasis>not</emphasis> moved
to trash, so be careful with this setting.</para></warning>
</para>

<para>With the <guilabel>Identity</guilabel> section you can set your default
identity for new messages. Replies to messages that where sent directly
to you will still default to the message's <quote>To</quote> address if an
according identity is found.</para>

<para>With <guilabel>Show Sender/Receiver</guilabel> you can set the 
visible columns in the header pane. This is useful if you use a
folder to save your own sent messages.</para>

</sect2>

<sect2 id="folders-format">
<title>Folder Format</title>

<para>A message folder can be either in <guilabel>mbox</guilabel> or in <guilabel>maildir</guilabel>
format. <guilabel>mbox</guilabel> saves all messages of a folder to one file,
whereas <guilabel>maildir</guilabel> saves each message to its own file.
<guilabel>maildir</guilabel>, which is the default format, can be considered more
robust, but it can be slower on some file systems. If you are unsure, you should
choose <guilabel>maildir</guilabel>.</para>

<para>Note that there is currently no feature in &kmail; that allows to convert
between both formats automatically - but you can just move all messages from an old
<guilabel>mbox</guilabel> folder to a new <guilabel>maildir</guilabel> folder or
vice versa.</para>

</sect2>

</sect1>

<sect1 id="filters">
<title>Message Filters</title>
<anchor id="filters-id"/>

<para>After using &kmail; for a while, you may find that you have trouble
sorting out the new messages in your inbox when they arrive. Filters allow you
to automatically perform certain actions on incoming messages and to manually
perform actions on selected messages in a folder.</para>

<para>Please note that the filters described in this section are
applied <emphasis>after</emphasis> the messages have been downloaded
from your account. If you want to filter messages on the server, see
<link linkend="popfilters">Download Filters</link>.</para>

<para>Filters consist of a search pattern, whose rules are used as
criteria to determine whether this filter should be applied to a given
message, and a list of filter actions, which describe what is being
done with or to the message if the search pattern matches. Read more
about search patterns and filter actions in the following
subsections.</para>

<note><para> Filters are considered one after the other,
starting with the first filter in the list. The first one whose
pattern matches the given message gets executed. You can request that
the remaining filters also be applied, but the default is to stop
processing at the first matching filter. </para></note>

<para>Usually, filters are used on incoming messages, but they can
also be applied to sent messages or to an arbitrary message or group
of messages. To selectively filter messages, select the messages you
want to filter in the message list and type <keycombo
action="simul">&Ctrl;<keycap>J</keycap> </keycombo> or select
<menuchoice><guimenu>Message</guimenu> <guimenuitem>Apply
Filters</guimenuitem></menuchoice>. This will apply all filters that
have been marked for manual filtering in the <link
linkend="filter-dialog">filter dialog</link> to those messages.</para>

<sect2 id="filter-quick">
<title>Fast Filter Creation</title>

<para>There are two methods for creating a filter: The quick method is
to use <menuchoice><guimenu>Tools</guimenu><guimenuitem>Create
Filter...</guimenuitem></menuchoice>. This will call the filter dialog
and present you with a new filter which has the first rule of the
search pattern and the first action (as <guilabel>move to folder</guilabel>) preset. In
most cases, all you have to do is select the folder where the message
should be moved to. But you can, of course, edit the filter as you
like.</para>

<para>The interesting thing about this method is that creating a
filter on mailing lists will try really hard to find a criterion that
uniquely identifies messages from that list. If it succeeds, the guessed
name of the list is presented in the
<menuchoice><guimenu>Tools</guimenu><guisubmenu>Create
Filter</guisubmenu><guimenuitem>Filter on
Mailing-List...</guimenuitem></menuchoice> menu entry.</para>

<para>The second method is to manually construct a filter from scratch
by calling the filter dialog through
<menuchoice><guimenu>Settings</guimenu><guimenuitem>Configure 
Filters...</guimenuitem></menuchoice>. The filter dialog is described in
detail in the following subsection.</para>
</sect2>

<sect2 id="filter-dialog">
<title>The Filter Dialog</title>
<anchor id="filter-dialog-id"/>

<para>This dialog allows you to manage and edit your list of
filters.</para>

<para>You reach it either via
<menuchoice><guimenu>Tools</guimenu><guisubmenu>Create
Filter...</guisubmenu></menuchoice> or
<menuchoice><guimenu>Settings</guimenu><guimenuitem>Configure 
Filters...</guimenuitem></menuchoice>.</para>

<para>The dialog is divided into four main sections:</para>
<variablelist>
<varlistentry>
<term><guilabel>Available Filters</guilabel></term>
<listitem><para>This group contains the list of filters and some action
buttons to modify the filters, namely to create new filters, to move
them up or down the list, or to delete or rename them. If you select
a filter from the list, its properties are shown in the right-hand half
of the dialog.</para></listitem>
</varlistentry>
<varlistentry>
<term><guilabel>Filter Criteria</guilabel></term> <listitem><para>In
this group you can edit the pattern that messages must match for the
filter to be applied to them. You can select here whether all of the
defined rules must match or whether it suffices that any one of them
matches. See <link linkend="filter-criteria">Search Patterns</link>
below for a detailed description of each search rule type.</para>

<para> You can click on <guibutton>More</guibutton> to get an
additional (initially empty) rule if you want to define more complex
patterns and on <guibutton>Fewer</guibutton> to remove the last
rule. <guibutton>Clear</guibutton> clears the pattern, &ie; it removes
all but two rules from screen and resets those two.</para>
<para>Invalid or empty rules are not evaluated.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>Filter Actions</guilabel></term> <listitem><para>In
this group you can edit the list of actions that is applied to all
messages that match the defined search pattern. See <link
linkend="filter-action">Filter Actions</link> below for a detailed
description of each action type.</para>

<para> You can click on <guibutton>More</guibutton> to get a new,
empty action if you want to define more than one action and on
<guibutton>Fewer</guibutton> to remove the last
action. <guibutton>Clear</guibutton> clears the list, &ie; it
removes all but one action and resets that one.</para>
<para>Invalid or empty actions are not executed.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>Advanced Options</guilabel></term>
<listitem><para> In
this group you can define a few advanced options for filters that
allow you to refine your filtering.</para>
<para>Using the first row
of check boxes, you can toggle the applicability of the corresponding
filter: The <guilabel>to incoming messages</guilabel> check shows whether
it may be considered for incoming messages (&ie; on <guiicon>Check
Mail</guiicon>). The <guilabel>to sent messages</guilabel> check
shows the same for sent messages (&ie; <emphasis>after</emphasis>
<guiicon>Send</guiicon>) and the <guilabel>on manual
filtering</guilabel> check controls whether to apply this filter when
filtering manually (&ie; via <menuchoice><guimenu>Message</guimenu>
<guimenuitem>Apply Filters</guimenuitem></menuchoice>).</para>
</listitem>
</varlistentry>
</variablelist>

<note><para>Filters are automatically named unless you explicitly
rename them using the <guibutton>Rename...</guibutton> button.
The dialog assumes that it should continue auto-naming the filter
as long as the filter name starts with <quote>&lt;</quote>.
</para></note>

<note>
<para>If you apply filter changes, via
<guibutton>OK</guibutton> or <guibutton>Apply</guibutton>, only valid
filters are actually copied to the internal filter manager.</para>

<para>A filter is considered invalid if</para>

<orderedlist>
<listitem><para>the search pattern contains only empty rules or</para></listitem>
<listitem><para>the action list is empty.</para></listitem>
</orderedlist>

<para>Similarly, empty rules and actions are removed from the pattern
and action list respectively, before the filter is saved.</para>
</note>

</sect2>

<sect2 id="filter-criteria">
<title>Search Patterns</title>

<para>The most common use of filters is to filter on the sender of
messages. This can be done by choosing <guilabel>From</guilabel>. A
good bet for a mailing list would be
<guilabel>&lt;recipients&gt;</guilabel>. But there are other criteria
a filter can search for. Note that all patterns are interpreted 
case-insensitively:</para>

<variablelist>
<varlistentry>
<term><guilabel>&lt;message&gt;</guilabel></term>
<listitem>
<para>Searches the whole message (&ie; headers, body and attachments,
if any).</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>&lt;body&gt;</guilabel></term>
<listitem>
<para>Searches the body of the message.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>&lt;any header&gt;</guilabel></term>
<listitem>
<para>Searches the headers of the message.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>&lt;recipients&gt;</guilabel></term>
<listitem>
<para>Searches the <quote>To</quote> and <quote>CC</quote> header fields of the message.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>&lt;size&gt;</guilabel></term>
<listitem>
<para>Sets upper or lower bounds on the message size.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>&lt;age in days&gt;</guilabel></term>
<listitem>
<para>Sets upper or lower bounds on the message age.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>Any other name</term>
<listitem>
<para>Searches the header field that is given by that name.</para>
</listitem>
</varlistentry>
</variablelist>

</sect2>

<sect2 id="filter-action">
<title>Filter Action</title>

<para>The most common use of filters is to sort incoming messages to
certain folders. This can be done by choosing <guilabel>move to
folder</guilabel>. Here is a list of all possible actions:</para>

<variablelist>
<varlistentry>
<term><guilabel>move to folder</guilabel></term>
<listitem>
<para>This will move the message to another folder. You currently 
cannot use <acronym>IMAP</acronym> folders as a target.</para>
<!-- fixme: still correct? -->
</listitem>
</varlistentry>
<!-- TODO: does not exist yet
<varlistentry>
<term><guilabel>copy to folder</guilabel></term>
<listitem>
<para>This will copy the message to another folder.</para>
<note><para>You currently cannot use <acronym>IMAP</acronym>
folders as a target.</para></note>
</listitem>
</varlistentry>
-->
<varlistentry>
<term><guilabel>set identity to</guilabel></term>
<listitem>
<para>This will set <emphasis>your</emphasis> identity if you reply to this
message.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>mark as</guilabel></term>
<listitem>
<para>This allows you to mark the message as read or important (flagged), but
also as forwarded, replied, &etc;</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>set transport to</guilabel></term>
<listitem>
<para>This will set the method of transport (&eg; <acronym>SMTP</acronym>) if
you reply to the message.</para>
</listitem>
</varlistentry> 
<varlistentry>
<term><guilabel>set Reply-To to</guilabel></term>
<listitem><para>Will modify the <guilabel>Reply-To</guilabel> field of this
message. This can be useful for mailing lists that automatically set a Reply-To
which you do not like.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>forward to</guilabel></term>
<listitem><para>Will forward the message to another email address.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>redirect to</guilabel></term>
<listitem><para>Will redirect the message to another email address.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>bounce</guilabel></term> <listitem><para>Will try to
return the message to the sender as undeliverable.</para>

<warning><para>This will only work if the senders email address is
valid. That is <emphasis>not</emphasis> the case for most
spam messages.</para></warning>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>confirm delivery</guilabel></term>
<listitem><para>Will try to return a message to the sender that
indicates successful delivery of his message, if he requested that.</para> <para>This
action allows you to select who will get delivery receipts from
you. Though you can globally enable the sending of delivery
confirmations in the <guilabel>Configure &kmail;...</guilabel> dialog
(<link linkend="configure-security-general"><guilabel>Security</guilabel>
page</link>) we recommended to not send them to everyone, since this
makes tracking of &eg; spam messages very easy for the sender.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>execute command</guilabel></term>
<listitem>
<para>This will execute a program, but will not modify the
message. Specify the full path to the program you want to
execute. &kmail; will block until the program returns. You can feed
the program with the parts of the mail: <symbol>&percnt;0</symbol>,
<symbol>&percnt;1</symbol>, &etc; will stand for files representing
the message parts. For common messages <symbol>&percnt;0</symbol> is the
text, <symbol>&percnt;1</symbol> the first attachment and so
on. Additionally, the whole message is fed into the program's
<acronym>stdin</acronym>.</para>

<!-- fixme: still correct? -->
<warning><para>This currently only works if the message has
<emphasis>at least one</emphasis> attachment. No, not even
<symbol>&percnt;0</symbol> will work in the general
case!</para></warning>

<tip><para> You can enter arbitrarily complex shell commands here,
since &kmail; uses a sub shell to execute the command line. Therefore,
even this command will work (within its limits):
<userinput><command>uudecode</command> <option>-o</option>
<parameter>$(mktemp kmail-uudecoded.XXXXXX)</parameter> &amp;&amp;
<command>echo</command> <parameter>$'\a'</parameter></userinput></para></tip>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>pipe through</guilabel></term>
<listitem>
<para>This will feed the message to a program. If that program returns
output, the entire message (including the headers) will be replaced
with this output. If the program does not return output, the message
will not change.  Specify the full path to the program.</para>
<warning><para>Be cautious with this action, as it will easily mess up
your messages if the filter program does return garbage or extra
lines.</para></warning>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>remove header</guilabel></term>
<listitem>
<para>Will remove <emphasis>all</emphasis> header fields with the
given name from the message. This is useful mainly for removing bogus
<quote>Reply-To:</quote> headers.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>add header</guilabel></term>
<listitem>
<para>If no such field is already present, will add a new header field
with the given name and value to the message. If there is already a
header field with that name, it is overwritten with the new (the
given) value. If there are already multiple headers with the given
name (&eg; <quote>Received:</quote> headers), an arbitrary one of them is
overwritten and the others are left unchanged. This is a known
limitation. You may want to combine this filter with the
<guilabel>remove header</guilabel> filter above to make sure that
there are no other headers with that name in the message.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>rewrite header</guilabel></term>
<listitem>
<para>Will scan the given header field, modify its contents and write
it back. The search string is always interpreted as a case-sensitive
regular expression. The replacement string is inserted literally
except for occurrences of <userinput>\n</userinput>,
<userinput>$n</userinput> and <userinput>${nn}</userinput>, where
<userinput>n</userinput> is a positive (single-digit, except for the
third form) number or <userinput>0</userinput>. These constructs are
interpreted as back references to substrings captured with parentheses
in the search string.</para><para>Analogous restrictions as in the
<guilabel>add header</guilabel> action apply here, too.</para>
</listitem>
</varlistentry>
</variablelist>

</sect2>

<sect2 id="filter-examples">
<title>Filter Examples</title>

<para>If I am subscribed to the (general) &kde; List, I could create a
folder for the list (I will call it
<replaceable>KDE-General</replaceable>) and use a filter to
automatically transfer new messages from my inbox to my
<replaceable>KDE-General</replaceable> folder if they are from the
&kde; List. Here is how to create this filter:</para>

<procedure>
<title>Filtering a mailing list</title>
<step>
<para>Try if <menuchoice><guimenu>Tools</guimenu><guisubmenu>Create
filter</guisubmenu><guimenuitem>Filter on
Mailing-List...</guimenuitem></menuchoice> can identify the mailing
list (the name of the list should then appear in the menu item). In
this case, this works and I am presented a filter that has
<quote>X-Mailing-List <guilabel>equals</guilabel>
&lt;kde@lists.netcentral.net&gt;</quote> preset. You select the
desired destination folder from the folder pull-down menu in the
<guilabel>Filter Action</guilabel> group and that's it!</para>

<para>If that does not work, think of a unique way of identifying the
messages you want to filter. The (almost) unique property of my &kde;
List messages is that they always contain
<quote>kde@lists.netcentral.net</quote> in the
<guilabel>To:</guilabel> or <guilabel>CC:</guilabel> field. It is only
almost unique, because this fails for cross-posted messages.</para>
</step>
<step>
<para>Select <menuchoice><guimenu>Settings</guimenu><guimenuitem>Configure 
Filters...</guimenuitem></menuchoice>.</para>
</step>
<step>
<para>Press the <guibutton>New</guibutton> button to create an empty
filter. It will appear as <guilabel>&lt;unknown&gt;</guilabel>.</para>
</step>
<step>
<para>In the <guilabel> Filter Criteria</guilabel> area, select
<guilabel>&lt;recipients&gt;</guilabel> from the first pull-down menu,
<guilabel>contains</guilabel> from the second pull-down menu, and type
<userinput>kde@lists.netcentral.net</userinput> in the text
field.</para>
</step>
<step>
<para>Skip down to the <guilabel>Filter Actions</guilabel> section. Select <guilabel>move to
folder</guilabel> from the first pull-down menu. A new pull-down menu
containing a list of folders will appear. Select the folder that you
want the filtered messages to be transferred to. For this example, you would select
<guilabel>KDE-General</guilabel> from the pull-down menu.</para>
</step>
</procedure>

<para>You may find that you need to use more powerful criteria to
properly filter your messages. For example, you may only want to
filter the &kde; List messages that are written by your friend <replaceable>Fred
Johnson &lt;fj@anywhere.com&gt;</replaceable>. This is where the rest of the
matching criteria section comes into play:</para>

<procedure>
<title>Extending the filter</title>
<step>
<para>Open up the <guilabel>Configure Filters...</guilabel> window and select
the filter you just created.</para>
</step>
<step>
<para>Since you want to filter all messages that have
<replaceable>kde@lists.netcentral.net</replaceable> in the
<guilabel>To:</guilabel> or <guilabel>CC:</guilabel> field
<emphasis>and</emphasis> that are from Fred, check the
<guibutton>Match all of the following</guibutton> radio
button.</para>
</step>
<step>
<para>Now, go to the second search rule and select the following from
the pull-down menus: <guilabel>From</guilabel>,
<guilabel>contains</guilabel>. Now, type
<userinput>fj@anywhere.com</userinput> in the text field.</para>
</step>
</procedure>

<para>You now have a filter that transfers all &kde; List messages
that are from fj@anywhere.com.</para>
<!-- fixme: trigger with ctrl-j or whenever new mail arrives (unless
<guilabel>Advanced Options</guilabel> are changed. -->
</sect2>
</sect1>

<sect1 id="popfilters">
<title>Download Filters</title>

<para>Download Filters can be used to filter mails from a POP server,
<emphasis>before</emphasis> they are completely downloaded. You can use
it to prevent &kmail; from downloading huge mails and save time this
way.</para>

<para>In the configuration dialog of the POP account you can enable 
download filtering by checking the <guilabel>Filter messages if
they are greater than</guilabel> box. Once you did that, you can specify a size 
which is used as a threshold. Messages exceeding this size will be
checked against the filter rules you defined. If no filter rule
matches, they will be shown in a confirmation dialog and you can
decide what to do with them. The default size for filtering is 50000
Bytes. This is a good value as the overhead is kept to a minimum.
Every message that is looked at by the filter causes additional
traffic because the header of the message is downloaded twice. The
default action is <guilabel>Download mail</guilabel> to prevent the
loss of messages.</para>

<warning><para>Be careful with the <guilabel>Delete mail from
server</guilabel> option since once a mail is deleted on the server
there is no way to get it back.</para></warning>

<para>With a really good set of filter rules, it is possible that all
messages that exceed the threshold size are automatically tagged
(&ie; downloaded, kept on the server or deleted) and you would never
be bugged by the confirmation dialog. Be careful though, since once a
message is matched by a filter rule, you have no guarantee that you
can change the action before it is executed. Only if there is a
message left that was not matched by a filter rule the confirmation
dialog will show up.</para>

<sect2 id="popfilters-dialog">
<title>The <guilabel>Configure Pop Filter</guilabel> Dialog</title>

<para>Adding filter rules works similar as for <link
linkend="filters">message  filters</link>. On the left hand side you
can manage the existing filters. Use the <guiicon>New</guiicon>
button to add a filter. On the right hand side you can configure
under which conditions the current filter should match. Using <guilabel>Filter
Action</guilabel> you specify what will happen to a message that is 
matched by this rule. The available options are:</para>

<variablelist>

<varlistentry>
<term><guilabel>Download mail</guilabel></term>
<listitem>
<para>Will download the messages matched by the filter, just as any other message
that does not exceed the threshold size.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Download mail later</guilabel></term>
<listitem>
<para>Will tag the messages for later download. This means the messages matched
will stay on the POP server until you choose to download them by
changing the action manually.</para></listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Delete mail from server</guilabel></term>
<listitem>
<para>Will delete the message from the server and does not download it. Once you 
deleted a message from the server, there is <emphasis>no</emphasis> way you can undo this.
Be careful, as rules could match messages you actually want, too.</para></listitem>
</varlistentry>

</variablelist>

<para>The option <guilabel>Always show matched 'Download Later' messages in
confirmation  dialog</guilabel> will cause the confirmation dialog to
show up during mailbox check if at least one message was tagged for
<guilabel>Download Later</guilabel> - even if all messages exceeding
the threshold size were matched by a rule. This option is useful in the
case you have messages matched by a rule and tagged for
<guilabel>Download Later</guilabel>, but you do not get any message
exceeding the size limit for a very long time. Without this option,
the confirmation dialog would never show up and you would never have
a chance to get the queued message by changing the action manually.</para>

</sect2>

<sect2 id="popfilters-confirmation">
<title>The Confirmation Dialog</title>

<para>This dialog shows up whenever you have POP filtering switched
on and  messages were found on the server that exceed the threshold
size you defined for the POP account. Now you have the chance to
decide what you want to do with that message. The options are
<guilabel>Download</guilabel> (green), <guilabel>Download
later</guilabel> (yellow with egg watch) and <guilabel>Delete from
server</guilabel> (red <quote>X</quote>). Be cautious with the delete
option, since once you deleted a mail from the server, there is no
way to undelete it again.</para>

<para>In the <guilabel>Filtered Messages</guilabel> section you can
check the box if you got messages that were automatically tagged for
a certain action (download, download later, delete) by a filter rule.
The checkbox is only enabled if you got some messages that were
matched by a filter rule. Once you check it, a list similar to the
one for the not automatically tagged messages will show up and you 
can change the action for every single message.</para>

<para>Please note that if there is a message exceeding the size
limit, but all messages are matched by a filter rule the dialog will
not show up. One exception occurs if you have checked 
<guilabel>Always show matched 'Download Later' messages</guilabel> in
the <guilabel>Global Options</guilabel> section of the POP filter
configuration dialog. Then the dialog will also show up if you only
have matched messages, but at least one got tagged for
<guilabel>Download later</guilabel>.</para>

</sect2>

</sect1>

<sect1 id="multiple-accounts">
<title>Using Multiple Accounts</title>

<para>Multiple accounts are used to check for messages from more than one email address
and/or mail server. Select <menuchoice><guimenu>Settings</guimenu>
<guimenuitem>Configure &kmail;...</guimenuitem></menuchoice> and click on the
<guilabel>Network</guilabel> page to add or change your account settings. See the
<link linkend="getting-started">Getting started</link> section for more
information on the settings in the <guilabel>Network</guilabel> page.</para>

<para>To check for messages from a particular account, use the
<menuchoice><guimenu>File</guimenu><guimenuitem>Check Mail
In</guimenuitem></menuchoice> submenu to select the account to check
for mail. You can also press the mouse button on the <guiicon>Check
Mail</guiicon> icon for some time to get a list of accounts.</para>

</sect1>

<sect1 id="pgp">
<!-- This section is from Andreas Gungl, 2000-05-21, updated 2002-10-06 by Ingo Kloecker -->
<title>Signing and Encrypting Messages with <application>PGP</application> 
or <application>GnuPG</application></title>

<para>This is a short introduction on how to setup &kmail;'s
<application>PGP</application> (<application>Pretty Good Privacy</application>) support. 
It will give some hints on the use of
<application>PGP</application> too. It is written for people who are beginners in
this area. If you are familiar with the use of <application>PGP</application>, you can
skip most of the steps. This documentation (and the &kmail; user interface) 
generally talks only about  <quote>PGP</quote>, but it applies to 
both <application>PGP</application> and <application>GnuPG</application> 
(<application>GNU Privacy Guard</application>), 
although some <application>GnuPG</application> command line parameters 
may be different.</para>

<para>Please
also check out the <link linkend="pgp-faq">&FAQ; item about
<application>PGP</application></link>.</para>

<!-- note: this is partly copied above: -->
<warning><para>Attachments will not be encrypted if you are using 
the built-in OpenPGP support. To encrypt attachments, you have to install
and configure <link linkend="configure-security-plugins">encryption plugins</link>.
Then you can decide for each attachment if it should be encrypted or not.
</para></warning>

<warning><para>&kmail; has to rely on <application>PGP</application>'s
output. This output is often different between different versions of 
<application>PGP</application>, so it is important that you test if encryption
really works with your setup before you start using it seriously. &kmail; might
<emphasis>not</emphasis> warn you if something fails. You better enable 
<guilabel>Show ciphered/signed text
after composing</guilabel>.  </para></warning>

<para>To setup and use <application>PGP</application> support in &kmail; it is
necessary to have <application>PGP</application> installed and set up
properly. Of course we cannot give you a full introduction of
<application>PGP</application> here. We will only mention the steps you have to
do to get <application>PGP</application> going. For details you should have a look at 
the excellent  <application>PGP</application> documentation 
or <ulink url="http://www.gnupg.org/docs.html#guides">The GNU Privacy Handbook</ulink>.</para> 

<para>It is certainly a good idea to study this documentation as well as an
introduction into public key cryptography (&eg; out of the
<application>PGP</application> 6.5.x package). There you can learn a lot about
the basic concepts, which will help you to understand what is going on. As well,
many security related issues you should know about are discussed there.</para>

<para>Now let's start.</para>

<sect2 id="pgp-preconditions">
<title>Preconditions</title>

<para>&kmail; expects that your <application>PGP</application> binary is called
<command>pgp</command>.  In case of <application>GnuPG</application>, it expects
the binary to be called <command>gpg</command>. If that is not the case for you,
just make a symlink.</para>

<para>If you have not done so, you have to generate a key pair (secret and public
key) for your identity. You must do this at the command line: use
<userinput><command>pgp</command> <option>-kg</option></userinput>
resp. <userinput><command>gpg</command> <option>--gen-key</option></userinput>.  &kmail;
has no internal support for <application>pgp</application>'s key generation at
this time. The identity (normally your name followed by your email address
within brackets, such as <userinput>John Doe
&lt;john@example.com&gt;</userinput>) and your passphrase are important for the
co-operation between &kmail; and <application>pgp</application>.</para>

</sect2>

<sect2 id="pgp-settings">
<title><application>PGP</application> Related Settings in &kmail;</title>

<para>Select the <guilabel>OpenPGP</guilabel> tab on
the <guilabel>Security</guilabel> settings page. There you will find the
following options:</para>

<variablelist>

<varlistentry>
<term><guilabel>Encryption tool</guilabel></term>
<listitem>
<para>Here you can choose if you want to use <application>PGP</application>,
<application>GnuPG</application> or no encryption
software at all. Of course the program you select has to be
installed on your system. It is also important to select the correct
version.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Keep passphrase in memory</guilabel></term>
<listitem>
<para>When this option is off, &kmail; will ask for your passphrase each
time you sign a message (before sending) or select an encrypted message.
If you turn this option on, &kmail; will remember your passphrase from
after your first successful input until you finish your &kmail; session. The
passphrase is stored in memory and not written to the hard disk.
If you use one of the Crypto-Plugins or if you use <application>GnuPG</application>
with the gpg-agent then an external program will ask for your passphrase and
optionally remember it for some time.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Always encrypt to self</guilabel></term>
<listitem>
<para>If this option is off and you want to send an encrypted message to somebody,
then you cannot read this message any longer after you have composed and
encrypted it. Turn this option on to keep sent encrypted messages readable for
you too.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Show signed/encrypted text after composing</guilabel></term>
<listitem>
<para>This will show you the result of encrypting and signing before the message
gets sent. This way you can still cancel sending if encrypting failed. It is
strongly recommended to use this option.</para> 
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Always show the encryption keys for approval</guilabel></term>
<listitem>
<para>This will always open a dialog that lets you choose the keys used for
each recipient when you are sending an encrypted message. If this
option is off, &kmail; will show this dialog only when it cannot
find a key for a recipient or when there are conflicting or unset encryption
preferences.</para> 
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Automatically sign messages using OpenPGP</guilabel></term>
<listitem><para>This lets you toggle whether to automatically sign your messages
by default. Of course it is still possible to send unsigned messages by deselecting
the icon in the composer window.</para> 
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Automatically encrypt messages whenever possible</guilabel></term>
<listitem><para>If this option is on, &kmail; will automatically encrypt messages
with the built-in OpenPGP support or the PGP/MIME-Plugin provided that
for every recipient a trusted PGP key is found in your keyring and
provided that you did not tell &kmail; not to encrypt messages send to
certain recipients. If in doubt &kmail; will ask whether the message
should be encrypted or not.</para></listitem>
</varlistentry>

</variablelist>

<para>Now that you have setup the encryption tool you have tell &kmail; which
OpenPGP key you want to use for signing and for encrypting messages.
To do this go to the <link linkend="configure-identity">Identities configuration</link>
and set the key that should be used on the <guilabel>Advanced</guilabel> tab of the
identity configuration.</para>

<para>Now you are able to sign outgoing messages. To let people send you
encrypted messages and to let them verify your signature you
must send them your public key or upload your public key to a public
<application>PGP</application> key server so that they can fetch your key from there.
To send encrypted messages to other people or to verify their signed
messages you will need their public keys.  You can store your public key(s) on a
public <application>PGP</application> key server such as <ulink
url="http://www.cam.ac.uk.pgp.net/pgpnet/">http://www.cam.ac.uk.pgp.net/pgpnet/</ulink>.</para>

</sect2>

<sect2 id="pgp-sign-your-messages">
<title>Sign your Messages</title>

<para>You compose your message as usual in the composer
window of &kmail;. Before you send the message, check the <guiicon>Sign Message</guiicon>
icon on the toolbar of the composer window. Then, you can send
the message. The identity you are using to write the current message needs to 
be connected to an <guilabel>OpenPGP Key</guilabel> in the <guilabel>Identity</guilabel>
section of the <guilabel>Configure</guilabel> dialog.
To sign the message, &kmail; needs to know your <application>PGP</application> 
passphrase. If you did not select <guilabel>Keep passphrase in memory</guilabel> in the
<guilabel>Security</guilabel> section, &kmail; will ask you for it.  On the
other hand, if you have already given the phrase to &kmail;, it will sign the
message without any further prompt.</para>

</sect2>

<sect2 id="pgp-encrypt-your-messages">
<title>Encrypt your Messages</title>

<para>To send an encrypted message to somebody of whom you have a
public key, you simply create the message in the composer window.
Before you send the message, check the <guibutton>Encrypt
Message</guibutton> button in the toolbar of the composer window. Note
that you might not have to check the button if <guilabel>Automatically
encrypt messages whenever possible</guilabel> is selected in
&kmail;'s configuration (see <link linkend="pgp-sign-your-messages">above</link>).
Then send the message.</para> <!-- fixme 3.1? -->

<para>
If you checked the <guilabel>Encrypt Message</guilabel> button and &kmail;
cannot find a matching key for a recipient, it will display a list containing
all available keys in the <guilabel>Encryption Key Selection</guilabel> dialog.
If &kmail; finds more than one trusted key for a recipient, it will
display a list containing all matching keys for this recipient. In both
cases you can select the key(s) which should be used for encrypting
this message for the recipient in question.
Using the <guilabel>Remember choice</guilabel>
checkbox you can save your selection for future messages.</para>

<para>If you are using a key for the first time or if there are conflicting
Encryption Preferences or if <guilabel>Always
show the encryption keys for approval</guilabel> is selected in the
<guilabel>Security</guilabel> section of &kmail;'s configuration dialog,
the <guilabel>Encryption Key Approval</guilabel> dialog will appear.
Here you can select different keys for the recipients and you can also 
set the <guilabel>Encryption Preference</guilabel> for each recipient.
The default option, <guilabel>Encrypt whenever encryption is
possible</guilabel>, will automatically encrypt your message if there is a 
trusted key for each recipient.</para>

<para>As mentioned above, you will not be able to read your own encrypted sent
messages if you do not check <guilabel>Always encrypt to self</guilabel> in the
settings' <guilabel>Security</guilabel> page.</para>

</sect2>

<sect2 id="pgp-send-your-public-key">
<title>Send your Public Key</title>

<para>Prepare a message to the person you want to send your public key to. Then
choose in the composer window's menu
<menuchoice><guimenu>Attach</guimenu><guimenuitem>Attach My Public
Key</guimenuitem></menuchoice>. This will attach the public key you
defined for the current identity to the message. Now you can send the message.</para>

<para>Remember that it is not safe at all if you sign the message to make sure
that the receiver will get the correct key. There can be a man-in-the-middle
attack, as somebody can change the key and sign the message with that other
key. That is why the recipient should verify the attached key by checking the
key's fingerprint against the one he got in a secure way from you. Have a look
at the <application>PGP</application> documentation for further details.</para>

</sect2>

<sect2 id="pgp-you-got-an-encrypted-message">
<title>You got an encrypted Message</title>

<para>All you have to do is to select the message in &kmail;. You will be
prompted for your passphrase. Then &kmail; will try to decrypt the message and
show you the plain text if the message had been encrypted with your public
key. (If not, then you will not be able to read it.) &kmail; stores the messages
encrypted, so nobody can read these messages without knowing your passphrase.</para>

</sect2>

<sect2 id="pgp-receiving-a-public-key">
<title>Receiving a Public Key</title>

<para>You can receive a public key as an attachment or via http, ftp or a floppy.
Before you can use this key to encrypt a message to the owner of the
key, you should verify the key (check its fingerprint or look for
trusted signatures). Then you can add this key to your public keyring
by typing <userinput><command>pgp</command> <option>-ka</option>
<replaceable>filename</replaceable></userinput> at the command line if you are using 
<application>PGP</application> or by typing 
<userinput><command>gpg</command> <option>--import</option>
<replaceable>filename</replaceable></userinput> at the command line if you are using
<application>GnuPG</application>. If the key is not certified with a trusted signature 
you cannot use it to encrypt messages unless you have signed the key with your key.
</para>

</sect2>

</sect1>
</chapter>

<chapter id="configure">
<title>Configure &kmail;</title>

<para>&kmail;'s configuration window enables you to configure &kmail;
in many ways. You can reach it via
<menuchoice><guimenu>Settings</guimenu><guimenuitem>Configure
&kmail;...</guimenuitem></menuchoice>.</para>

<para>It is divided into six
pages, each of them represented by one of the
icons in the list on the left hand side of the dialog. This chapter
will describe each page in detail.</para>

<sect1 id="configure-identity">
<title><guilabel>Identities</guilabel> Page</title>

<para>You can find a quick introduction to the
<guilabel>Identities</guilabel> page in the <link
linkend="getting-started">Getting Started</link> section.</para>

<para>This page allows you to create one or more
<emphasis>Identities</emphasis>, &ie; combinations of name, email
address and other settings. For example, you can create one identity
for business communication and one for
personal communication. If you have more than one email
address, you can create one identity per address. You will then be
able to select an identity on a per-message basis.</para>

<para>The page consists of a list of identities and buttons to manage
them. The identities list will always show at
least one identity, which is then the <guilabel>Default</guilabel> 
identity.</para>

<para>To add a new identity to the identity list, click on the
<guibutton>New...</guibutton> button. 
The <link linkend="configure-identity-newidentitydialog">New identity</link> dialog
will show up.</para>

<sect2 id="configure-identity-newidentitydialog">
<title>The <guilabel>New Identity</guilabel> Dialog</title>

<para>You can enter the name of the new identity into the
<guilabel>New Identity</guilabel> edit field. This will be the name
shown in the identity list.</para>

<para>You can choose how the new identity should be initialized by
checking one of the three radio buttons in the middle of the
dialog:</para>

<variablelist>

<varlistentry>
<term><guilabel>With empty fields</guilabel></term>
<listitem>
<para>All fields of the new identity are cleared or preset with
standard values.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Use Control Center settings</guilabel></term>
<listitem>
<para>Uses the settings of the <application>Control
Center</application>'s default email profile (you can edit that one
under <menuchoice><guimenu>Internet &amp; Network</guimenu>
<guimenuitem>Email</guimenuitem></menuchoice> in the
<application>Control Center</application>).</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Duplicate existing identity</guilabel></term>
<listitem>
<para>Copies all fields from an already existent identity. You can
choose which identity to copy from by selecting the corresponding
entry in the <guilabel>Existing identities</guilabel> popup.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>

<sect2 id="configure-identity-general">
<title><guilabel>General</guilabel></title>

<para>The <guilabel>General</guilabel> tab allows you to specify some
basic settings for the currently selected identity.</para>
<variablelist>
<varlistentry>
<term><guilabel>Your name</guilabel></term>
<listitem>
<para>Enter your full name here (sometimes also called <emphasis>display name</emphasis>).
Although this field is not strictly mandatory, it is recommended to enter 
the correct value here.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>Organization</guilabel></term>
<listitem>
<para>Enter your organization here. This field is 
optional. Most programs will show this information in a separate
header field <guilabel>Organization</guilabel>. &kmail;, however, puts
it between parentheses and displays is together with the email address
in the <guilabel>From</guilabel> header field.</para>
</listitem>
</varlistentry>
<varlistentry>
<term><guilabel>Email address</guilabel></term>
<listitem>
<para>Enter your email address here.</para>
</listitem>
</varlistentry>
</variablelist>
<para>So if your address is <replaceable>Joe User
&lt;joe@example.com&gt;</replaceable>, you should enter <userinput>Joe
User</userinput> into the <guilabel>Your name</guilabel> field and
<userinput>joe@example.com</userinput> into the <guilabel>Email
address</guilabel> field.</para>
</sect2>

<sect2 id="configure-identity-advanced">
<title><guilabel>Advanced</guilabel></title>

<para>The <guilabel>Advanced</guilabel> tab allows you to specify some
rarely used or otherwise specialized settings for the currently
selected identity.</para>
<variablelist>

<varlistentry>
<term><guilabel>Reply-To address</guilabel></term>
<listitem>
<para>Enter the address to which replies to your messages should be
sent. Only fill out this field if it is different from your normal
address (specified using the <guilabel>Name</guilabel> and
<guilabel>Email Address</guilabel> on the <link
linkend="configure-identity-general"><guilabel>General</guilabel>
tab</link>), since replies default to the sender's address
anyway.</para>
<note><para>This field is only useful if you want replies to your mail
to go somewhere else than your regular email address, &eg; if you are
using this identity to send messages from an email address that cannot
receive messages. Note that this field will possibly be
deprecated by newer versions of the Internet email standard. Furthermore,
some mailing lists overwrite this header field with their post address to
make sure that replies go to the list instead of individuals. So the
usefulness of this field is very limited and it should only be used in
rare cases.</para></note>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>BCC address</guilabel></term>
<listitem>
<para>Optionally enter an addresses to which blind copies of your messages
should be sent to.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>OpenPGP key</guilabel></term>
<listitem>
<para>Select here the <application>OpenPGP</application> key
key that should be used to (digitally) sign messages when this
identity is used. When you click on the <guilabel>Change...</guilabel>
button, a key selection dialog comes up where you can select the key
to use from the list of secret keys found. If you do not have an
<application>OpenPGP</application> key or do not know what that is, you
do not need to worry about this setting.</para>

<note><para>The selected key will also be used as the recipient when
you check <link linkend="configure-security-pgp-encrypttoself">
<guilabel>Always encrypt to self</guilabel></link> on the <link
linkend="configure-security-pgp"><guilabel>OpenPGP</guilabel> tab</link>
of the <link linkend="configure-security">
<guilabel>Security</guilabel> page</link>.</para></note>

<note><para>You might need to configure your
<application>OpenPGP</application> environment first, to make the key
selection dialog work. You can do this on the <link
linkend="configure-security"> <guilabel>Security</guilabel>
page</link>.</para></note>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Sent-mail folder</guilabel></term>
<listitem>
<para>Select the folder into which messages should be filed after sending
when using this identity.</para>

<tip><para>You can exercise more fine-grained control over where to
file sent messages by creating a corresponding <link
linkend="filters">message filter</link> that is applied to outgoing
messages.</para></tip>

</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Drafts folder</guilabel></term>
<listitem>
<para>Select the folder into which drafts should be filed when using 
this identity.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Special transport</guilabel></term>
<listitem>
<para>Select or enter an alternative SMTP server to be used when sending
messages using this identity.</para>

<note><para>You need to configure outgoing mail servers first, before
you can choose them from the list. You can do this on the <link
linkend="configure-network-sending"><guilabel>Sending</guilabel>
tab</link> of the <link linkend="configure-network">
<guilabel>Network</guilabel> page</link>.</para></note>
</listitem>
</varlistentry>

</variablelist>
</sect2>

<sect2 id="configure-identity-signature">
<title><guilabel>Signature</guilabel></title>

<para>This tab allows you to specify a signature (sometimes called
<quote>footer</quote> or <quote>disclaimer</quote>)
to be appended to each message sent using this identity.</para>

<note><para>This type of signature has nothing to do with the
(digital) signatures for which you can select the to-be-used key on
the <link linkend="configure-identity-advanced">Advanced
tab</link>. It is just bad wording to call this a signature, but since
the term is already used everywhere else, we keep this notation. Just
keep in mind that these signatures and digital signatures are two
completely different things.</para></note>

<para>Check the <guilabel>Enable signature</guilabel> option if you
want to be able to append the signature when using this identity. To
<emphasis>automatically</emphasis> append it to every new message
you also have to select <guilabel>Automatically append
signature</guilabel> in the <guilabel>Composer</guilabel> configuration page.</para>

<para>&kmail; can obtain the signature text from various sources. The
traditional way on Unix is to read the text from a file called
<filename>.signature</filename> in your home directory. This file can
be shared between several programs, so you get the same
signature in each mail program you use.</para>

<para>To read the text from a flat text file you select
<guilabel>Obtain signature text from file</guilabel>. Enter the
filename in the <guilabel>Specify file</guilabel> edit field or hit
the button to the right of it to browse your filesystem. If you want
to edit the file, hit the <guilabel>Edit file</guilabel>
button.</para>

<para>&kmail; can also read the signature text from the output of a
command. Thus, you can use programs such as
<command>fortune</command> to create a new signature text for
every message. Everything the program prints onto
<acronym>stdout</acronym> is catched and used as the signature
text.</para>

<para>To read the text from the output of a command you select
<guilabel>Obtain signature text from output of
command</guilabel>. Enter the command (preferably with full path) in
the <guilabel>Specify command</guilabel> edit field or hit the button
to the right of it to browse your filesystem.</para>

<para>As a third option, you can enter the signature text directly in
&kmail;'s configuration dialog. To do this, select <guilabel>Obtain
signature text from input field below</guilabel> and enter the text
into the appearing text box.</para>

<note><para>On the Internet, signatures are by convention separated
from the body of the message by a line containing only the three
character <quote>-- </quote> (dash, dash, space). &kmail; will
automatically prepend the signature text with this line if it is not
already present in the signature text.</para>
<para>If you do not wish the separator to be prepended
automatically by &kmail;, simply add it to the signature 
text yourself.</para>
</note>

</sect2>

</sect1>

<sect1 id="configure-network">
<title><guilabel>Network</guilabel> Page</title>

<para>You can find a quick introduction to the
<guilabel>Network</guilabel> page in the <link
linkend="setting-up-your-account">Setting up your Account</link>
section.</para>

<para>This page allows you to create one or more (incoming and
outgoing) <emphasis>accounts</emphasis>, &ie; combinations of mail
servers, login information and other settings. Typically, you will
create one outgoing (used for sending messages) and one incoming (used to
retrieve messages) account. You can create as many accounts as you want, though,
and assign each one to different <link
linkend="configure-identity">identities</link> or decide on a per-message
basis.</para>

<sect2 id="configure-network-sending">
<title><guilabel>Sending</guilabel></title>

<para>The <guilabel>Sending</guilabel> tab allows you to define new
outgoing mail servers and set some common options.</para>

<para>For basic information, see <link
linkend="sending-mail">Setting up your Account: Sending</link>.</para>

<para>When you click <guibutton>Add...</guibutton> or <guibutton>Modify...</guibutton>
the <guilabel>Add transport</guilabel> resp. <guilabel>Modify
transport</guilabel> dialog will open. For sending via <command>sendmail</command> you
can specify a name and the location of the <command>sendmail</command> program.
For <acronym>SMTP</acronym> you can specify <guilabel>Name</guilabel>,
<guilabel>Host</guilabel>, and <guilabel>Port</guilabel> of the server.
<guilabel>Server requires authentication</guilabel> will enable the
<guilabel>Login</guilabel> and <guilabel>Password</guilabel> fields and
the <guilabel>Authentication method</guilabel> buttons on the
<guilabel>Security</guilabel> tab. If you are not sure about the
security settings you can make &kmail; test for the best settings
by using <guibutton>Check What the Server Supports</guibutton>.</para>

<para><guilabel>Confirm before send</guilabel> will pop up a
confirmation box every time you send a message.</para>

<para><guilabel>Send messages in outbox folder on check</guilabel> will send
all messages from the outbox when you check for new messages.</para>

<para><guilabel>Default send method</guilabel> lets you define what
happens when a message is sent. If <guilabel>Send now</guilabel> is
selected, the message is sent to the mail server immediately, while if
<guilabel>Send later</guilabel> is selected, the message is queued in
the outbox to be sent later with the
<menuchoice><guimenu>File</guimenu><guimenuitem>Send
Queued Messages</guimenuitem></menuchoice> command or automatically when you
check your mail, depending on the setting of 
<guilabel>Send messages in outbox folder on check</guilabel> above.</para>

<para><guilabel>Message property</guilabel> lets you select how your
message will be encoded when it is sent. <guilabel>Allow
8-bit</guilabel> means that &kmail; will send your message in 8 bit
<acronym>ASCII</acronym>, which means that all special characters such
as accented letters will be sent as-is. If <guilabel>MIME Compliant
(Quoted Printable)</guilabel> is selected, special characters will be
encoded using standard &MIME; encodings, which may be more portable to
other mailing systems than 8-bit <acronym>ASCII</acronym>. You normally
do not need to change the default.<!-- TODO: advise what is better --></para>

<para><guilabel>Default domain</guilabel> lets you specify which domain name
should be used to complete email addresses that only consist of the recipient's user
name. For example when you set the default domain to <replaceable>kde.org</replaceable>
then messages you send to <replaceable>johndoe</replaceable> will be sent to 
<replaceable>johndoe@kde.org</replaceable>.</para>

</sect2>

<sect2 id="configure-network-receiving">
<title><guilabel>Receiving</guilabel></title>

<para>For basic information, see <link
linkend="receiving-mail">Setting up your Account: Receiving</link>.</para>

<para>With <guilabel>New Mail Notification</guilabel> you can set
how &kmail; will notify you if new messages have arrived. Of course
this only makes sense if <guilabel>Enable interval mail checking</guilabel>
is activated for at least one account: <guilabel>Beep</guilabel> will
play a short beep sound, while more advanced notification options
are available via the <guibutton>Other Actions</guibutton> button.</para>

</sect2>

</sect1>

<sect1 id="configure-appearance">
<title>Appearance Page</title>

<sect2 id="configure-appearance-fonts">
<title>Fonts</title>

<para>This section allows you to change the type, size and character set of the
display fonts. <guilabel>Message Body</guilabel> sets the font for
the reader pane, <guilabel>Composer</guilabel> sets the font for
writing messages in the composer window.<!-- fixme in kmail: better wording? -->
There is a separate entry for <guilabel>Message List - Date Field</guilabel>
so you can choose a monospaced font for the date field for better readability.</para>

</sect2>

<sect2 id="configure-appearance-colors">
<title>Colors</title>

<para>This section allows you to change the color of the text.
<guilabel>Recycle colors on deep quoting</guilabel> means that even text that is
quoted more than three times will appear in color. Note that the
<guilabel>Quoted text</guilabel> colors only work in the message reader, not in 
the composer.<!-- TODO --></para>

</sect2>

<sect2 id="configure-appearance-layout">
<title>Layout</title>

<para><guilabel>Show HTML status bar</guilabel> activates a bar at the left side of the reader
pane that tells you if a message is HTML or not.</para>
<!-- ###fixme: important b/c security! -->

<para>The <guilabel>Window Layout</guilabel> section lets choose between
several layouts of the main window that differ with regard to the size
of the folder list and to the position of the MIME tree. Let the mouse pointer 
rest over the icons and you will see a tooltip that explains
the differences between the layouts.</para>

<para>The <guilabel>Show MIME Tree</guilabel> option lets you choose when
the MIME tree will be shown: the MIME tree is a part of the main window that
lets you access all attachments of a message. <guilabel>Never</guilabel> will
disable the MIME tree (note that you can still access attachments as icons),
<guilabel>Always will</guilabel> show a MIME tree even if the message does not
have an attachment. <guilabel>Smart</guilabel> will display the MIME tree
only if it makes sense, &ie; if the current message has at least one attachment.</para>

</sect2>

<sect2 id="configure-appearance-headers">
<title>Headers</title>

<para>With <guilabel>Display message sizes</guilabel> selected there will be another 
column in the header pane that shows the messages' size.</para>

<para><guilabel>Show crypto icons</guilabel> will add more status information
to the <guilabel>Subject</guilabel> columns in the header pane: every message
that has been signed will have a small <guiicon>Signed</guiicon> icon in front
of the subject, every message that has been encrypted will have a small
<guiicon>Encrypted</guiicon> icon in front of the subject. Note that you have
to select a message once before these icons will appear, until then only
questions mark will be displayed.</para>

<para><guilabel>Thread list of message headers</guilabel> will put all the messages 
in the header pane in a kind of tree list, so that the replies to a message are 
directly below that message.</para>

<para>With <guilabel>Message header threading options</guilabel> you can select
whether threads should appear expanded (<guilabel>open</guilabel>) by
default or whether they should be collapsed (<guilabel>closed</guilabel>).
You can of course still open/close threads using the  <guilabel>+</guilabel>/<guilabel>-</guilabel>
buttons.</para> 

<para>With <guilabel>Date Display</guilabel> you can choose between several
date formats. The <guilabel>Localized Format</guilabel> is the one you can
specify under <guilabel>Country &amp; Language</guilabel> in &kcontrol;.
For the <guilabel>Custom</guilabel> format you can get
a description of the possible values by pressing
<keycombo action="simul">&Shift;<keycap>F1</keycap></keycombo>
and then clicking on <guilabel>Custom</guilabel> option.</para>

</sect2>

<sect2 id="configure-appearance-profiles">
<title>Profiles</title>

<para>This section offers several default settings for &kmail;'s layout. You can
use these as starting points for your own configuration.</para>

<warning><para>Note that choosing
one of the offered profiles will override your current layout settings.</para></warning>

</sect2>

<!-- fixme?: date + less than/greater than broken in kmail -->
<!-- fixme?: "group" wording in program -->

</sect1>

<sect1 id="configure-composer">
<title>Composer Page</title>

<sect2 id="configure-composer-general">
<title>General</title>

<para><guilabel>Automatically append signature</guilabel> lets you toggle
whether to automatically include your signature as defined in the 
<link linkend="setting-your-identity">identity page</link>.</para>

<para><guilabel>Use smart quoting</guilabel> will break long lines but will try
to keep the correct quoting (&eg; the <quote>&gt; </quote> will always be at the
start of the line).</para>

<para><guilabel>Word wrap at column</guilabel> lets you turn word wrapping on
and off in the composer window and lets you set the column
at which words will be wrapped (you probably should not need to change
the default value, which is <userinput>78</userinput>).</para>

<para>If you do not like the Composer you can use a
different editor. Note that the composer window will still open and
the external editor will open as soon as you type just one character in the body
of the message. If you're done, save the text and exit the editor. The text will
now appear in the composer window, where you can send
it. Note that your editor may not return immediately, you have to
use &eg; <userinput>gvim -f %f</userinput> for <application>gvim</application>.</para>

</sect2>

<sect2 id="configure-composer-phrases">
<title>Phrases</title>

<para>The <guilabel>Phrases</guilabel> tab lets you define the automatically
generated lines that are added to message replies, forwarded messages, and the
character that is added in front of quoted text. 
There are special &percnt;-denoted characters that will insert certain
values, which are also displayed at the top of the <guilabel>Phrases</guilabel> section.
You can add reply phrases in languages other than
your default &kde; language using the <guilabel>Language</guilabel> button.
This will only work for languages whose i18n package you have installed.</para>

</sect2>

<sect2 id="configure-composer-subject">
<title>Subject</title>

<para>This section contains a list of prefixes for <quote>Reply</quote> and
<quote>Forward</quote>. If you receive messages that use prefixes different
to the standard ones, you can add them here so &kmail; will recognize 
them. This way &kmail; can ignore them for sorting messages and
when setting the subject of a reply, and optionally replace them 
with <quote>Re:</quote>.</para>

</sect2>

<sect2 id="configure-composer-charset">
<title>Charset</title>

<para>Here you can manage the default charsets used for your own messages. 
Every message you send will be checked if it is written in one of the listed
charsets, starting at the top of the list. If it is, this charset will be used.
If it is not, a dialog will show up and tell you that you manually have to choose
a charset using 
<menuchoice><guimenu>Options</guimenu><guisubmenu>Set Encoding</guisubmenu></menuchoice>.
</para>

<para>If you select <guilabel>Keep original charset when replying
or forwarding</guilabel>, the original message's charset
will be kept, unless there are now characters that cannot be
represented using that charset.</para>

</sect2>

<sect2 id="configure-composer-headers">
<title>Headers</title>

<para>Check the <guilabel>Use custom message-id suffix</guilabel>
checkbox if you want &kmail; to generate Message-Id's with a custom
suffix. Enter the desired suffix in the <guilabel>Custom message-id
suffix</guilabel> field. Please make sure that the suffix that you
specify is world-wide unique. The best thing is to use the name of a
domain which you are the owner of. If you do not check <guilabel>Use
custom Message-Id suffix</guilabel> then &kmail; will automatically
generate the complete Message-Id. If you do not know what this is all
about do not check this option.</para>

<para>The <guilabel>Define custom mime header fields</guilabel> list
sets the headers that &kmail; will use for its outgoing messages. You
can both invent new fields and overwrite existing ones. This feature
is only useful for advanced users.</para>

</sect2>

</sect1>

<sect1 id="configure-security">
<title>Security Page</title>

<sect2 id="configure-security-general">
<title>General</title>

<para><guilabel>Prefer HTML to plain text</guilabel> will show
<acronym>HTML</acronym> messages with their <acronym>HTML</acronym>
formatting and layout. We strongly recommend to leave this option off, as
security problems with <acronym>HTML</acronym> might show up. When
this option is off, you can still read <acronym>HTML</acronym>
messages, but only as plain text.</para>

<para>With <guilabel>Allow messages to load external references from the internet</guilabel>
turned on, &kmail; can load external images, style sheets &etc; from the Internet when
you look at an <acronym>HTML</acronym> message. We strongly recommend
to leave this option off (although it has no effect if you only view 
plain text messages). By
adding external references to their messages, people sending spam can
detect that and when you have looked at their message. Note that this option
has no effect on &Java;, JavaScript and Plugins - these are disabled
anyway and cannot be enabled at all.</para>

<para><guilabel>Automatically send receive- and read
confirmations</guilabel> will automatically send a confirmation (in
form of a new message) to the sender of a message if he requested
that. If you leave this option off, no confirmation will be sent. We
recommend to leave this option off. If you want to send confirmations
to certain people you can do so by using the <guilabel>confirm
delivery</guilabel> filter action.</para>

</sect2>

<sect2 id="configure-security-pgp">
<title>OpenPGP</title>

<para id="configure-security-pgp-encrypttoself">For the
<guilabel>OpenPGP</guilabel> tab please see the <link
linkend="pgp-settings"><application>OpenPGP</application>
section</link>.</para>

</sect2>

<sect2 id="configure-security-plugins">
<title>Crypto Plugins</title>

<para>For now, please refer to the homepage of the 
<ulink url="http://www.gnupg.org/aegypten/">&Auml;gypten project</ulink>.</para>

</sect2>

</sect1>

<sect1 id="configure-folders">
<title>Folders Page</title>

<variablelist>

<varlistentry>
<term><guilabel>Confirm before emptying folders</guilabel></term>
<listitem>
<para>To empty a folder means that its messages get transferred to the
<guilabel>trash</guilabel> folder (and only get deleted if they are already in the
<guilabel>trash</guilabel> folder).  So although you normally will not lose any
mail, you can still activate a confirmation dialog that will ask you if you
really want to empty the folder.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Warn before expiring messages</guilabel></term>
<listitem>
<para>This will pop up a confirmation dialog before messages are expired
(&eg; on exit).</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Loop in the current folder when trying to find unread mail</guilabel></term>
<listitem>
<para>When you press one of the shortcuts to find new messages (&eg; <keycap>Space</keycap>)
and this option is activated, &kmail; will not jump to the next folder, but instead
try to find new messages at the top of the current folder.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Jump to first unread message when entering a folder</guilabel></term>
<listitem>
<para>When you enter a folder, &kmail; will go to the next unread message
if this option is enabled. If it is not enabled, &kmail; will go to the message
that was selected when you left the folder.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Mark selected messages as read after...</guilabel></term>
<listitem>
<para>When you select a <guilabel>new</guilabel> message, &kmail; will change the
message's status to <guilabel>read</guilabel> after the amount of seconds
which is configured here. If you disable this option, messages will keep their
<guilabel>new</guilabel> status.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Ask for action after dragging messages to another folder</guilabel></term>
<listitem>
<para>When you drag a message to a different folder, a small popup will ask
you if you want to copy or move the message. If you disable this option,
the message will be moved immediately, without a popup.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>By default, message folders on disk are...</guilabel></term>
<listitem>
<para>Here you can set the default <link linkend="folders-format">folder format</link>
that is used when you create a new folder.</para>
</listitem>
</varlistentry>

</variablelist>

<!-- TODO: better structure needed: -->
<para><guilabel>On program exit, perform the following tasks</guilabel>:</para>

<variablelist>

<varlistentry>
<term><guilabel>Compact all folders</guilabel></term>
<listitem>
<para>This will compact all folders every time you exit &kmail;. Compacting
folders means that the messages you deleted will really be
removed.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Empty trash</guilabel></term>
<listitem>
<para>The trash folder is cleared of messages when you quit &kmail; if this
option is selected.</para> 
</listitem>
</varlistentry>

<varlistentry>
<term><guilabel>Expire old messages</guilabel></term>
<listitem>
<para>Delete old messages from folders, according to the rules in
each folder's <link linkend="folders-properties-window">Properties dialog</link> 
(the default is not to delete old messages at all).</para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

</chapter>

<chapter id="menus">
<title>Menu Entries</title>

<para>Each menu item is discussed below. When there is a keyboard shortcut that
performs a menu item function, the default shortcut is listed with the menu item.</para>

<sect1 id="main-mail-reader-window">
<title>The Main Window</title>

<sect2 id="reader-file-menu">
<title><guimenu>File</guimenu> Menu</title>

<variablelist>
<varlistentry>
<term>
<menuchoice>
<guimenu>File</guimenu>
<guimenuitem>New Window...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Creates a new main window.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>S</keycap></keycombo></shortcut>
<guimenu>File</guimenu>
<guimenuitem>Save As...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Saves the currently displayed message to a text file, including all the headers
and attachments.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>P</keycap></keycombo></shortcut>
<guimenu>File</guimenu>
<guimenuitem>Print...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Display a dialog that lets you prints the currently displayed message.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>File</guimenu>
<guimenuitem>Compact All Folders</guimenuitem>
</menuchoice></term>
<listitem>
<para>Will compact all folders, &ie; it will really move and delete the messages
on disk according to how you have moved and deleted them in &kmail;.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>File</guimenu>
<guimenuitem>Expire All Folders</guimenuitem>
</menuchoice></term>
<listitem>
<para>Delete old messages from all folders, according to the rules in
each folder's <link linkend="folders-properties-window">Properties dialog</link>
(the default is not to delete old messages at all).</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>L</keycap></keycombo></shortcut>
<guimenu>File</guimenu>
<guimenuitem>Check Mail</guimenuitem>
</menuchoice>
</term>
<listitem><para>Checks for new messages in all your accounts, except those that
have <guilabel>Exclude from &quot;Check Mail&quot;</guilabel> enabled.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>File</guimenu>
<guisubmenu>Check Mail In</guisubmenu>
</menuchoice>
</term>
<listitem>
<para>Submenu that lets you check for new messages from a particular account.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>File</guimenu>
<guimenuitem>Send Queued Messages</guimenuitem>
</menuchoice></term>
<listitem>
<para>Sends the messages that are in your outbox.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>Q</keycap></keycombo></shortcut>
<guimenu>File</guimenu>
<guimenuitem>Quit</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Closes the current main window or exits
&kmail; if there is only this one window.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>


<sect2 id="reader-edit-menu">
<title><guimenu>Edit</guimenu> Menu</title>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>Z</keycap></keycombo></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Undo</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Revoke you last move or delete action. Note that you cannot undo a deletion
in the trash.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>C</keycap></keycombo></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Copy</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Copies selected text to the clipboard.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>T</keycap></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Edit Message</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Edits the selected message if it is editable. Only messages in the
<guilabel>outbox</guilabel> and <guilabel>drafts</guilabel> folder can be edited.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>D</keycap></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Move To Trash</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Moves the selected messages to the trash folder. If the selected
messages are already in the trash folder, they will really be deleted.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Shift;<keycap>Delete</keycap></keycombo></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Delete</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Deletes the selected messages. There is no way to recover the messages
once they are deleted with this command.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>F</keycap></keycombo></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Find In Message...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Lets you search for a string in the currently displayed message.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>K</keycap></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Select All Messages</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Selects all messages in the current folder.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>A</keycap></keycombo></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Select Message Text</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Selects the text of the currently displayed message.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>


<sect2 id="reader-view-menu">
<title><guimenu>View</guimenu> Menu</title>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<guimenu>View</guimenu>
<guimenuitem>Headers</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Changes the number of headers that are displayed and the format of the
headers in the <guilabel>Message pane</guilabel>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>View</guimenu>
<guimenuitem>Attachments</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Changes the way that attachments appear in the <guilabel>Message
pane</guilabel> (independent of the MIME Tree). With <guimenuitem>Icons</guimenuitem>
all attachments appear as icons at the bottom of the message.
<guimenuitem>Smart</guimenuitem> will show attachments as
icons, unless their content disposition is <quote>inline</quote>.
You can activate <quote>inline</quote> content disposition in
your own messages when you select <guilabel>Suggest automatic display</guilabel>
in the attachment's properties dialog.
<guimenuitem>Inline</guimenuitem> shows the contents of the attachments
at the bottom of the message. Attachments that cannot be displayed, &eg;
compressed files, will still be shown as an icon.
<guimenuitem>Hide</guimenuitem> will not show attachments.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>View</guimenu>
<guimenuitem>Unread Column</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Display a column in the list of folders which shows the number 
of unread messages per folder.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>View</guimenu>
<guimenuitem>Total Column</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Display a column in the list of folders which shows the number 
of messages per folder.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>.</keycap></shortcut>
<guimenu>View</guimenu>
<guimenuitem>Expand Thread</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>If <menuchoice><guimenu>Folder</guimenu><guimenuitem>Thread Messages</guimenuitem>
</menuchoice> is activated, this will display the thread of the current message, &ie;
all messages that are replies to the current message.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>,</keycap></shortcut>
<guimenu>View</guimenu>
<guimenuitem>Collapse Thread</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>If <menuchoice><guimenu>Folder</guimenu><guimenuitem>Thread Messages</guimenuitem>
</menuchoice> is activated, this will hide the thread of the current message, &ie;
it will hide all messages that are replies to the current message.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>.</keycap></keycombo></shortcut>
<guimenu>View</guimenu>
<guimenuitem>Expand All Threads</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Expands all threads in the current folder.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>,</keycap></keycombo></shortcut>
<guimenu>View</guimenu>
<guimenuitem>Collapse All Threads</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Collapses all threads in the current folder.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>V</keycap></shortcut>
<guimenu>View</guimenu>
<guimenuitem>View Source</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Shows the message and its complete headers in plain text format in a new
window. This can be useful to find out the origin of a mail. You should know
that it is easy to fake the <literal>From:</literal> header of a mail, but
one can still find out which mail servers have been used to send the message by looking
at the <literal>Received:</literal> lines in the header.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>View</guimenu>
<guimenuitem>Use Fixed Font</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Uses a fixed width (monospaced) font to display the messages
in the current folder. The font to be used can be configured in the
<guilabel>Appearance</guilabel> section of &kmail;'s configuration
dialog.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Message</guimenu>
<guisubmenu>Set Encoding</guisubmenu>
</menuchoice>
</term>
<listitem>
<para>Lets you choose the character encoding to be used in the Message
Pane. The default, <guilabel>Auto</guilabel>, should work in almost all cases.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>


<sect2 id="reader-go-menu">
<title><guimenu>Go</guimenu> Menu</title>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>N</keycap></shortcut>
<guimenu>Go</guimenu>
<guimenuitem>Next Message</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Selects the next message in the Headers pane. The keyboard shortcut
<keycap>Right Arrow</keycap> also performs this action.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>+</keycap></shortcut>
<guimenu>Go</guimenu>
<guimenuitem>Next Unread Message</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Selects the next unread message in the Headers pane.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>P</keycap></shortcut>
<guimenu>Go</guimenu>
<guimenuitem>Previous Message</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Selects the previous message in the Headers pane.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>-</keycap></shortcut>
<guimenu>Go</guimenu>
<guimenuitem>Previous Unread Message</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Selects the previous unread message in the Headers pane.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>+</keycap></keycombo></shortcut>
<guimenu>Go</guimenu>
<guimenuitem>Next Unread Folder</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Jumps to the the next folder with unread messages.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>-</keycap></keycombo></shortcut>
<guimenu>Go</guimenu>
<guimenuitem>Previous Unread Folder</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Jumps to the the previous folder with unread messages.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>Space</keycap></shortcut>
<guimenu>Go</guimenu>
<guimenuitem>Next Unread Text</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Scroll down if you are not yet at the bottom of a message, otherwise jumps
to the next unread message.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>


<sect2 id="reader-folder-menu">
<title><guimenu>Folder</guimenu> Menu</title>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<guimenu>Folder</guimenu>
<guimenuitem>New Folder...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens the <link linkend="folders-properties-window">Folder Properties</link>
dialog that lets you create a new folder.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Folder</guimenu>
<guimenuitem>Mark All Messages as Read</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Sets the status of all new and unread messages in the current folder to read.</para> 
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Folder</guimenu>
<guimenuitem>Compact</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Compacts the folder file to reduce its disk space usage. Use this command
if your mailboxes seem to be much larger than they ought to be.
<!-- TODO: explain? --></para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Folder</guimenu>
<guimenuitem>Expire</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Delete old messages from the current folder, according to the rules in
the folder's <guilabel>Properties</guilabel> dialog (the default is
not to delete old messages at all).</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Folder</guimenu>
<guimenuitem>Move All Messages to Trash</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Moves all of the messages in the selected folder into the trash folder.
If the selected folder is the trash folder, the messages are permanently
deleted.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Folder</guimenu>
<guimenuitem>Delete Folder</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Removes the selected folder and all its contents, including sub folders.</para>
<warning><para>Note that there is no way to access the contents
of a folder after it has been removed.</para></warning>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Folder</guimenu>
<guimenuitem>Prefer HTML to Plain Text</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>This will show <acronym>HTML</acronym> messages using
<acronym>HTML</acronym> rendering. For security reasons, we recommend to only
activate this for trusted messages.</para> 
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Folder</guimenu>
<guimenuitem>Thread Messages</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Shows the messages in the <guilabel>Header pane</guilabel>
in a tree-like list, with replies showing up directly under the message
they reply to.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Folder</guimenu>
<guimenuitem>Properties...</guimenuitem>
</menuchoice>
</term>
<listitem>
<!-- fixme: link to special section?! -->
<para>Opens up the <link linkend="folders-properties-window">Properties dialog</link> which lets you
change the settings for the selected folder.</para> 
</listitem>
</varlistentry>

</variablelist>

</sect2>

<sect2 id="reader-message-menu">
<title><guimenu>Message</guimenu> Menu</title>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>N</keycap></keycombo></shortcut>
<guimenu>Message</guimenu>
<guimenuitem>New Message...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens the <link linkend="the-composer-window">composer window</link> so you can 
write a new message.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Message</guimenu>
<guimenuitem>New Message to Mailing-List...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens the composer window so you can write a new
mail. If the current folder holds a mailing list and has a <guilabel>Post 
Address</guilabel> defined, this address will be default <guilabel>To:</guilabel>
address.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>R</keycap></shortcut>
<guimenu>Message</guimenu>
<guimenuitem>Reply...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens up the composer window with the contents of the
selected message's <guilabel>Reply-To</guilabel> field in the
<guilabel>To:</guilabel> field. By default this will automatically
set your identity to the one which this message was sent to.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>A</keycap></shortcut>
<guimenu>Message</guimenu>
<guimenuitem>Reply All...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens up the composer window and copies the contents
of the selected message's <guilabel>Reply-To:</guilabel> and
<guilabel>To:</guilabel> fields into the <guilabel>To:</guilabel> field, and the
<guilabel>CC:</guilabel> field into the <guilabel>CC:</guilabel> field of the
composer window.</para> 
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>L</keycap></shortcut>
<guimenu>Message</guimenu>
<guimenuitem>Reply Mailing-List...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens up the composer with the <guilabel>To:</guilabel>
field set to the mailing list address. Of course this will only work
if you configured the current folder to be associated with a mailing list.
Otherwise the <guilabel>To:</guilabel> field will be empty.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Shift;<keycap>R</keycap></keycombo></shortcut>
<guimenu>Message</guimenu>
<guimenuitem>Reply Without Quote...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens up the composer to reply but does not quote the
text of the original message.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><menuchoice>
<shortcut><keycap>F</keycap></shortcut>
<guimenu>Message</guimenu>
<guimenuitem>Forward...</guimenuitem>
</menuchoice>
</term>
<listitem>
<!-- fixme: submenu! -->
<para>Forwards the message to a new recipient. The message's text and some
important header fields will be copied to the body of the new message 
with a text marking the forwarded part. Attachments will be forwarded, too.</para>
</listitem>
</varlistentry>

<!-- fixme: see above 
<varlistentry>
<term><menuchoice>
<shortcut><keycombo action="simul">&Shift;<keycap>F</keycap></keycombo>
</shortcut>
<guimenu>Message</guimenu>
<guimenuitem>Forward as Attachment</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Forwards the message to a new recipient as an attachment. The original message
headers will be included in the forwarded message, too. Attachments
in the original message will also be in the forwarded message's attachment.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>E</keycap></shortcut>
<guimenu>Message</guimenu>
<guimenuitem>Redirect...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Works like forward, except that the message stays the same (even
the <guilabel>From</guilabel> field). The user who redirected the message is
added in special header fields (<literal>Redirect-From</literal>,
<literal>Redirect-Date</literal>, <literal>Redirect-To</literal>,
&etc;).</para> 
</listitem>
</varlistentry>
-->

<varlistentry>
<term>
<menuchoice>
<guimenu>Message</guimenu>
<guimenuitem>Bounce...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Sends the message back to the sender with a notice that it cannot be
delivered. This is nearly exactly the message you get from a mail relay if the
user does not exist. Some people use this option to <quote>reply</quote> to spam.</para> 
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Message</guimenu>
<guimenuitem>Send Again...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens a composer window with this message so it can be sent again.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Message</guimenu>
<guisubmenu>Copy To</guisubmenu>
</menuchoice>
</term>
<listitem>
<para>Copies all of the the selected messages to a certain folder.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Message</guimenu>
<guisubmenu>Move To</guisubmenu>
</menuchoice>
</term>
<listitem>
<para>Moves all of the selected messages to a certain folder.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Message</guimenu>
<guisubmenu>Mark Message</guisubmenu>
</menuchoice>
</term>
<listitem>
<para>Allows you to change the status of the selected message to one of the
following states (more than one status per message is currently not supported):</para>
<!-- TODO: more than one somewhen supported? -->

<!-- TODO: I think it is worth adding inline images here, at some point. LW. -->
<informaltable>
<tgroup cols="2">
<thead>
<row>
<entry>Status</entry>
<entry>Symbol</entry>
<entry>Meaning</entry>
</row>
</thead>
<tbody>
<row>
<entry><guimenuitem>New</guimenuitem></entry>
<entry>Red dot</entry>
<entry>The message has been received for the first time, and is unread.</entry>
</row>
<row>
<entry><guimenuitem>Unread</guimenuitem></entry>
<entry>Green dot</entry>
<entry>The message has already been retrieved off the server at least once, but
has not yet been read.</entry>
</row>
<row>
<entry><guimenuitem>Read</guimenuitem></entry>
<entry>Dash</entry>
<entry>The message has been read.</entry>
</row>
<row>
<entry><guimenuitem>Replied</guimenuitem></entry>
<entry>Blue u-turn arrow</entry>
<entry>A reply to this message has been sent.</entry>
</row>
<row>
<entry><guimenuitem>Forwarded</guimenuitem></entry>
<entry>Blue arrow</entry>
<entry>The message has been forwarded to someone else.</entry>
</row>
<row>
<entry><guimenuitem>Queued</guimenuitem></entry>
<entry>Envelope</entry>
<entry>The message has been queued in the outbox to be sent later.</entry>
</row>
<row>
<entry><guimenuitem>Sent</guimenuitem></entry>
<entry>Angled envelope</entry>
<entry>The message has been sent.</entry>
</row>
<row>
<entry><guimenuitem>Important</guimenuitem></entry>
<entry>Flag</entry>
<entry>This status will not automatically be set by &kmail;. You can use it freely to mark 
messages that are in some way important to you.</entry>
</row>
</tbody>
</tgroup>
</informaltable>

</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Message</guimenu>
<guisubmenu>Mark Thread</guisubmenu>
</menuchoice>
</term>
<listitem>
<para>Allows you to change the status of all messages in a thread. The possible
states are the same as for <menuchoice><guimenu>Message</guimenu>
<guimenuitem>Mark Message</guimenuitem></menuchoice>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>J</keycap></keycombo></shortcut>
<guimenu>Message</guimenu>
<guimenuitem>Apply Filters</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Applies your filters to the selected messages.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>


<sect2 id="reader-tools-menu">
<title><guimenu>Tools</guimenu> Menu</title>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycap>S</keycap></shortcut>
<guimenu>Tools</guimenu>
<guimenuitem>Find Messages...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens up a search window that lets you search for messages with
certain characteristics, &eg; a certain subject. Start the search by entering
some values and press <guibutton>Search</guibutton>. Click on one of the
resulting messages and it will appear in the <guilabel>Message
pane</guilabel>.</para>
</listitem>
</varlistentry>

<!-- fixme in kmail: address book vs addressbook -->
<varlistentry>
<term>
<menuchoice>
<guimenu>Tools</guimenu>
<guimenuitem>Address Book</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Starts up <ulink url="/kaddressbook/">&kaddressbook;</ulink>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Tools</guimenu>
<guimenuitem>Import...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Starts up <application>kmailcvt</application> (which is part of kdenetwork).
This application lets you import messages from several proprietary email clients to
&kmail;.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Tools</guimenu>
<guisubmenu>Create Filter</guisubmenu>
</menuchoice>
</term>
<listitem>
<para>Opens up the <link linkend="filter-dialog-id">Filter dialog</link> with a new filter added.
This new filter is based on fields of the current mail, depending on which
sub menu you select.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>


<sect2 id="reader-settings-menu">
<title><guimenu>Settings</guimenu> Menu</title>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Show Toolbar</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>If enabled, the Toolbar is visible (the Toolbar is the one with the icon
to compose a new message &etc;).</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Show Statusbar</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>If enabled, the Statusbar is visible (the Statusbar is the small one on
the bottom which shows useful short messages and link targets).</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Configure Shortcuts...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens a window that lets you configure the keyboard shortcuts for many
menu commands.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Configure Toolbars...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens a window that lets you choose which icons are visible in the
toolbar.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Configure Notifications...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens a window that lets you configure what happens when new mail arrives,
like playing a sound.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Configure &kmail;...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens the <link linkend="configure">Configure</link> window.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Configure Filters...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens the <link linkend="filters">Message Filters</link> window.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Configure POP Filters...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens the <link linkend="popfilters">Configure Pop Filters</link> window.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>

<sect2 id="reader-help-menu">
<title><guimenu>Help</guimenu> Menu</title>

<para>These are the &kde; standard items for the <guimenu>Help</guimenu> menu:</para>

&help.menu.documentation;

<para>Additionally &kmail; offers these items:</para>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<guimenu>Help</guimenu>
<guimenuitem>&kmail; Introduction</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>This displays the welcome screen, which lists the most imortant
differences between your version of &kmail; and the previous one.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Help</guimenu>
<guimenuitem>Tip of the Day</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>This displays a dialog with useful hints for using &kmail;.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>
</sect1>

<sect1 id="composer-window-menus">
<title>The Composer Window</title>

<sect2 id="composer-file-menu">
<title><guimenu>Message</guimenu> Menu</title>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>N</keycap></keycombo></shortcut>
<guimenu>Message</guimenu>
<guimenuitem>New Composer...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens up a new composer window.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Message</guimenu>
<guimenuitem>New Main Window...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Creates a new main window.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>Return</keycap></keycombo></shortcut>
<guimenu>Message</guimenu>
<guimenuitem>Send</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Sends the message immediately. If you use SMTP to send your
messages and the SMTP server is not reachable, the message will be put
into the outbox and you will get an error message. You can then later send
the messages in the outbox using <menuchoice><guimenu>File</guimenu><guimenuitem>Send
Queued</guimenuitem></menuchoice>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Message</guimenu>
<guimenuitem>Queue</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Queues the message in the outbox for sending it later using 
<menuchoice><guimenu>File</guimenu><guimenuitem>Send
Queued</guimenuitem></menuchoice>.
</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Message</guimenu>
<guimenuitem>Save in Drafts Folder</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Save the message in the <guilabel>drafts</guilabel> folder so you can 
later edit and send it.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Messages</guimenu>
<guimenuitem>Insert File...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Inserts a text file into the message text, starting at the cursor
position.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>P</keycap></keycombo></shortcut>
<guimenu>Message</guimenu>
<guimenuitem>Print...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Prints the current text.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>W</keycap></keycombo></shortcut>
<guimenu>Message</guimenu>
<guimenuitem>Close</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Closes this composer window.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>


<sect2 id="composer-edit-menu">
<title><guimenu>Edit</guimenu> Menu</title>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>Z</keycap></keycombo></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Undo</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Undo your steps in editing the current message.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;&Shift;<keycap>Z</keycap></keycombo></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Redo</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Redo your steps in editing the current message.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>X</keycap></keycombo></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Cut</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Cutting text works as with most editors: the selected text is
removed and put into the clipboard. Note that you can also select text and
drag it to a new position.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>C</keycap></keycombo>
</shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Copy</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Copying text works as with most editors: the selected text is copied to the clipboard.
Note that you can also select text while holding the &Ctrl; key, and drag it to a new
position to copy it.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>V</keycap></keycombo></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Paste</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Pasting works the same as with most editors: the text from the
clipboard is pasted at the current cursor position.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>A</keycap></keycombo></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Select All</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Selects all of the text in your message.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>F</keycap></keycombo></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Find...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens a dialog to search for strings in the current message.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<shortcut><keycombo action="simul">&Ctrl;<keycap>R</keycap></keycombo></shortcut>
<guimenu>Edit</guimenu>
<guimenuitem>Replace...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens a dialog that lets you replace strings in your message with other strings.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Edit</guimenu>
<guimenuitem>Clean Spaces</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>This replaces multiple line breaks resp. spaces with single line breaks resp. spaces.
It works on the current selection or on the complete message if there is no selection.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>

<sect2 id="composer-view-menu">
<title><guimenu>View</guimenu> Menu</title>

<para>This menu lets you toggle the display of the header fields and other
options in this composer window.</para>

<para>Options available are:</para>

<itemizedlist>
<listitem>
<para><guimenuitem>All Fields</guimenuitem></para>
</listitem>
<listitem>
<para><guimenuitem>Identity</guimenuitem></para>
</listitem>
<listitem>
<para><guimenuitem>Sent-Mail folder</guimenuitem></para>
</listitem>
<listitem>
<para><guimenuitem>Mail Transport</guimenuitem></para>
</listitem>
<listitem>
<para><guimenuitem>From</guimenuitem></para>
</listitem>
<listitem>
<para><guimenuitem>Reply To</guimenuitem></para>
</listitem>
<listitem>
<para><guimenuitem>To</guimenuitem></para>
</listitem>
<listitem>
<para><guimenuitem>CC</guimenuitem></para>
</listitem>
<listitem>
<para><guimenuitem>BCC</guimenuitem></para>
</listitem>
<listitem>
<para><guimenuitem>Subject</guimenuitem></para>
</listitem>
</itemizedlist>

<para>Currently visible items have a checkmark shown next to their name in the
menu.</para>

<variablelist>
<varlistentry>
<term>
<menuchoice>
<guimenu>View</guimenu>
<guimenuitem>Use Fixed Font</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Uses a fixed width (monospaced) font to display the currently
edited message. The font to be used can be configured in the
<guilabel>Appearance</guilabel> section of &kmail;'s configuration
dialog.</para>
</listitem>
</varlistentry>
</variablelist>

</sect2>

<sect2 id="composer-options-menu">
<title><guimenu>Options</guimenu> Menu</title>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<guimenu>Options</guimenu>
<guimenuitem>Urgent</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Sets the priority of the message to Urgent. The receiver's email client has to support
this or it will have no effect. &kmail; itself does not support priorities for
incoming messages.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Options</guimenu>
<guimenuitem>Confirm Delivery</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>If you choose this option, you request a confirmation email once your
message is successfully delivered to its destination mail server. This has to be
also supported from the receiver's side in order to work.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Options</guimenu>
<guimenuitem>Confirm Read</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>If you choose this option, you request a confirmation email once your
message is downloaded and read by its recipient. This has to be supported and
enabled by the receiver's email client in order to work.
<!-- TODO: kmail... --></para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Options</guimenu>
<guisubmenu>Sign Message</guisubmenu>
</menuchoice>
</term>
<listitem>
<para>Digitally sign the message using <application>OpenPGP</application>.
You can learn more about this in the <link linkend="pgp">chapter on OpenPGP</link>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Options</guimenu>
<guisubmenu>Encrypt Message</guisubmenu>
</menuchoice>
</term>
<listitem>
<para>Encrypt the message using <application>OpenPGP</application>.
You can learn more about this in the <link linkend="pgp">chapter on OpenPGP</link>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Options</guimenu>
<guisubmenu>Select Crypto Module</guisubmenu>
</menuchoice>
</term>
<listitem>
<para>This entry will only be visible if you have installed at least one
<link linkend="configure-security-plugins">crypto plugin</link>. It allows
you to choose which plugin you want to use for encryption/signing or if
you want to use the built-in OpenPGP encryption/signing.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Options</guimenu>
<guisubmenu>Set Encoding</guisubmenu>
</menuchoice>
</term>
<listitem>
<para>Set the charset encoding of this message. The chosen encoding will appear in the header of
the outgoing mail. You can use <guilabel>Auto</guilabel> for almost all
cases, &kmail; will tell you if you need to select a different encoding manually.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Options</guimenu>
<guimenuitem>Wordwrap</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Toggle the automatic wordwrap. It may be useful to turn it off if you want
to paste long lines that should not wrap.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>


<sect2 id="composer-attach-menu">
<title><guimenu>Attach</guimenu> Menu</title>

<para>This menu lets you select attachment options.</para>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<guimenu>Attach</guimenu>
<guimenuitem>Append Signature</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Appends your signature (<quote>footer</quote>) to the end of the message.
<!-- fixme: nothing to do with crypto stuff --></para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Attach</guimenu>
<guimenuitem>Attach Public Key...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Attaches the corresponding <application>PGP</application>/<application>GnuPG</application>
key to your message.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Attach</guimenu>
<guimenuitem>Attach My Public Key</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Attaches your <application>PGP</application>/<application>GnuPG</application>
public key to your message.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Attach</guimenu>
<guimenuitem>Attach File...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Attaches one or more files to the current message.</para>
<!-- fixme: not encrypted unless... -->
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Attach</guimenu>
<guimenuitem>Remove Attachment</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Removes the attachment that is selected in the attachment part of the composer.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Attach</guimenu>
<guimenuitem>Save Attachment As...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Saves the attachment that is selected in the attachment window to a
file.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Attach</guimenu>
<guimenuitem>Attachment Properties...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Displays the <link linkend="attachments">properties of the attachment</link> that is selected in the
attachment window.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>

<sect2 id="composer-tools-menu">
<title><guimenu>Tools</guimenu> Menu</title>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<guimenu>Tools</guimenu>
<guimenuitem>Spelling...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Uses <ulink url="/kspell/">&kspell;</ulink> to check the spelling in the body of your
message. Note that
you have to configure &kspell; with <menuchoice><guimenu>Settings</guimenu>
<guimenuitem>Spellchecker...</guimenuitem></menuchoice> if you use it for the
first time.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Tools</guimenu>
<guimenuitem>Addressbook...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens up <ulink url="/kaddressbook/">&kaddressbook;</ulink>.</para>
</listitem>
</varlistentry>

</variablelist>

</sect2>

<sect2 id="composer-settings-menu">
<title><guimenu>Settings</guimenu> Menu</title>

<variablelist>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Show Toolbar</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>If enabled, the Toolbar is visible (the Toolbar is the one with the icon
to send the message &etc;).</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Show Statusbar</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>If enabled, the Statusbar is visible (the Statusbar is the small one at
the bottom which shows useful short messages).</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Configure Shortcuts...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens a window that lets you configure the keyboard shortcuts for many
menu command.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Configure Toolbars...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens a window that allows you to decide which icons appear in the
toolbar.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Configure &kmail;...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Opens &kmail;'s <link linkend="configure">configuration dialog</link>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>
<menuchoice>
<guimenu>Settings</guimenu>
<guimenuitem>Spellchecker...</guimenuitem>
</menuchoice>
</term>
<listitem>
<para>Allows you to configure <ulink url="/kspell/">&kspell;</ulink>, &kde;'s spellchecker.</para>
</listitem>
</varlistentry>

</variablelist>
</sect2>


<sect2 id="composer-help-menu">
<title><guimenu>Help</guimenu> Menu</title>

<para>The entries in this menu have the same meaning as <link
linkend="reader-help-menu">the entries in the Mailreader's help
menu</link>.</para>

</sect2>
</sect1>
</chapter>

<chapter id="faq">
<title>Frequently Asked Questions (&FAQ;)</title>
<!-- TODO: split into categories? unfortunately this will produce several files, eg. with <section> -->

<qandaset id="faq-set">

<qandaentry>
<question><para>Why are my filters not applied to incoming messages of IMAP accounts?</para></question>
<answer>
<para>Because &kmail; currently does not support this. You should use server-side
filtering (ask your admin for how to install filters on the server and in
which format), since IMAP is all about managing your email <emphasis>on the server</emphasis>.
Unfortunately, although there exists a mail filter language (Sieve, defined
in RFC3028), there is no standardized access protocol for installing or
editing server-side Sieve scripts. If such a protocol becomes available in
the future, &kmail; will most probably include support for it.</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>Using <application>PGP</application> or <application>GnuPG</application>
is very slow or it blocks &kmail;.</para></question>
<answer>
<para>&kmail; accesses <application>PGP</application>/<application>GnuPG</application> 
synchronously, &ie; it blocks while <application>PGP</application>/<application>GnuPG</application> 
works. This means that you might want to disable automatic retrieval 
of unknown keys from a keyserver to make &kmail; look more responsive.
If you are using <application>GnuPG</application> 1.0.7 (or better) or upgraded from an earlier 
version, then make sure to run <command>gpg <option>--rebuild-keydb-caches</option></command> 
once and <command>gpg <option>--check-trustdb</option></command> after every import or refresh. 
Both will speed up <application>GnuPG</application> immensely.</para>
</answer>
</qandaentry>

<qandaentry id="pgp-faq">
<question><para>What should I know if I want to use
<application>PGP</application>/<application>GnuPG</application> with
&kmail;?</para></question>

<answer><para>&kmail; provides a simple and easy to use interface for basic
 functions of these programs. Still you should understand how these programs
 work and what might make their use insecure. Some important issues:</para>

<itemizedlist>
<listitem>
<para>You <emphasis>really</emphasis> should test if encryption works
before you use it. &kmail; partly relies on
<application>PGP</application>/<application>GnuPG</application>'s error strings,
which often change between different versions.</para>
</listitem>
<listitem>
<para>&kmail; will not encrypt messages with an untrusted (unsigned) public key.
If you want to encrypt to such a 
key you should check the identity of the key owner and only then sign the key
with your secret key. If you do not want to or cannot check the identity
of the key owner but nevertheless want to encrypt the message then
please sign the key locally with <userinput><command>gpg</command>
<option>--lsign</option> <replaceable>keyID</replaceable></userinput>.</para>
</listitem>
<listitem>
<para>Trusting a foreign public key without checking it is no good idea.</para>
</listitem>
<listitem>
<para>&kmail; cannot encrypt and sign attachments if you are using
the built-in OpenPGP support. For encrypted and signed attachments you need
to have <link linkend="configure-security-plugins">crypto 
plugins</link> installed and configured.</para>
</listitem>
<listitem>
<para>Starting with GnuPG 1.0.7 you have to set your own key to
ultimate ownertrust. It is no longer implicitly done for you.</para>
</listitem>
</itemizedlist>
</answer>
</qandaentry>

<qandaentry>
<question><para>I cannot add addresses to my address book after upgrading to KDE 3.x.</para></question>
<answer>
<para>You probably copied your old <filename>kmailrc</filename> file manually. That is not
necessary, there is a script that will do such things when you run KDE 3.x
for the first time. To fix the problem, remove the complete <quote>[AddressBook]</quote>
group and the addressbook option in group <quote>[General]</quote> in your 
<filename>kmailrc</filename> file. However, chances are you will also encounter other problems 
that the config update script was to solve.</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>Can I use &kmail; together with a different email client, &eg;
<application>mutt</application>?</para></question>
<answer>
<para>If you're using the mbox format for your folders it is not
possible to use a different email client while &kmail; is running.
With <application>mutt</application> there may also be problems
even if both programs are not running at the same time. We recommend to 
use the maildir format in this case, this should solve all problems.</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>How can I convert my mailboxes from mbox to maildir?</para></question>
<answer>
<para>There is no automatic way to do that. You will have to create a new folder
in maildir format and copy the messages from the mbox folder into this
new folder. Remember to adapt any filter rules connected with the old folder before
you delete it.</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>How can I use a different browser than Konqueror to
open links in messages?</para></question>
<answer>
<para>Change the <guilabel>File Associations</guilabel> for HTML files
using &kcontrol;.</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>How can I remove attachments from messages without removing
the message itself?</para></question>
<answer>
<para>This is currently not supported. As a workaround, move the
message to the drafts folder, double click on it in order to open
it in the composer, remove the attachments, save the message again to the
drafts folder, move it back to its folder. The disadvantage of
this workaround is that the date will be changed to the current date.
Some other headers might also be changed.</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>How can I make &kmail; to check for new messages at startup?</para></question>
<answer>
<para>Start &kmail; with <command>kmail <option>--check</option></command>.</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>Why does &kmail; get slow / stop working when I try to
send big attachments?</para></question>
<answer>
<!-- fixme: update for 3.2 -->
<para>&kmail; is known to have problems with large attachments. We are working
on a solution for this problem for &kde; 3.2 but currently it temporarily consumes
virtual memory of about 10-15 times the size of the attachment. That
means that if you attach a 2MB file &kmail; might temporarily need about
20-30 MB of virtual memory (= RAM + swap space). If you do not have
enough virtual memory this will lead to problems.</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>Where does &kmail; save my settings?</para></question>
<answer>
<para>All &kmail; settings are stored in <filename>$KDEHOME/share/config/kmailrc</filename>,
where <filename>$KDEHOME</filename> is typically 
<filename class="directory">~/.kde</filename>.</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>Where can I get a list of changes between the versions of &kmail;?</para></question>
<answer>
<para>The welcome screen lists all important changes for your version. It is displayed when you
select <menuchoice><guimenu>Help</guimenu><guimenuitem>&kmail; Introduction</guimenuitem></menuchoice>.</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>Can I configure the location of my mail directory?</para></question>
<answer>
<para>Exit &kmail;, make a backup of <filename>~/.kde/share/config/kmailrc</filename>,
then open it with an editor and add &eg; <userinput>folders=/home/username/.mail</userinput>
to the <quote>[General]</quote> section. Then move all your existing folders (including
the hidden index files) to the new location. The next time you start &kmail; it will use
<filename class="directory">/home/username/.mail</filename> instead of
<filename class="directory">/home/username/Mail</filename>. Note that &kmail;
will lose its filters if you change the mail directory's location but forget
to move your existing folders.</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>How can I use mail folders that are not in <filename
class="directory">~/Mail/</filename>?</para></question>

<answer><para>To add a whole mbox mail directory use
<userinput><command>ln</command> <option>-s</option>
<filename>/somewhere/Mail/.remotedir.directory</filename> <filename
class="symlink">~/Mail/.mymailboxfile.directory</filename></userinput>.
Note that it is not possible to use links to files, only links that point
to directories will work.</para></answer>
</qandaentry>

<qandaentry>
<question><para>I'm one of those people whose mails consist of 100 quoted lines
and one line written by myself. For some reason this annoys other people. Can
&kmail; help me and make everyone's life better?</para></question>
<answer><para>Sure. Just select a short relevant part of the original mail
with the mouse before you reply. Only this part will then be quoted in your 
reply.</para></answer>
</qandaentry>

<qandaentry>
<question><para>For some messages the value in the <guilabel>Date</guilabel> field
is <guilabel>unknown</guilabel> or it is not correct.</para></question>
<answer><para>Probably the <quote>Date:</quote> header of these messages is broken,
maybe it lacks the time zone information. For this case we've added
a workaround to mimelib. Mimelib is part of the kdenetwork
package, you should make sure that &kde;'s mimelib is used and not a different
one on your system. If that does not help, the <quote>Date:</quote> field is
really broken and &kmail; cannot interpret it. That is not a bug in &kmail;
but in the software that sent the mail.</para></answer>
</qandaentry>

<qandaentry>
<question><para>My signature has two dashes above it. What's up?</para></question>
<answer>
<para>
Separating the signature from the message body with two dashes and a space
on a single line is a common standard. If your signature does not already have 
this separator, &kmail; will automatically add it.</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>&kmail; fetches the same messages over and over again.</para></question>
<answer><para>This happens if you have <guilabel>Delete messages from server after fetching</guilabel>
deselected and your POP3 server does not support the UIDL command. There is currently
no workaround besides selecting <guilabel>Delete messages from server after fetching</guilabel>.
A more detailed explanation can be found 
<ulink url="http://lists.kde.org/?l=kmail&amp;m=99220697415300&amp;w=2">in this
mailing list post</ulink>.</para></answer>
</qandaentry>

<qandaentry>
<question><para>Are there any known bugs in &kmail;?</para></question>
<answer>
<para>A list of submitted bugs is linked at <ulink
url="http://kmail.kde.org/">the &kmail; homepage</ulink>. Note that not all
these bugs are valid. All in all we think that &kmail; is a very robust piece
of software.</para>
<para><warning><para>However, you should not run &kmail; while another email client is already
accessing the files in <filename class="directory">~/Mail</filename>. If you try to do so,
you might lose messages. Note that you should make backups of your messages anyway.</para></warning></para>
</answer>
</qandaentry>

<qandaentry>
<question><para>My mbox folders keep growing even when I delete
messages.</para></question>
<answer><para>
To really remove deleted messages from disk, you have to compact
your folders using <menuchoice><guimenu>File</guimenu><guimenuitem>Compact all 
folders</guimenuitem></menuchoice> (by default this will also happen every time you exit
&kmail; - note that it does not work when leaving &kmail; via &kde;'s session
management).</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>&kmail; does not display <acronym>HTML</acronym> mails properly.</para></question>
<answer><para>To view <acronym>HTML</acronym> mails select <menuchoice><guimenu>Folder</guimenu><guimenuitem>Prefer
HTML to plain text</guimenuitem></menuchoice>. For security reasons you should
only do so for trusted messages. Note that plugins (like <trademark
class="registered">Macromedia</trademark> <application>Flash</application>),
&Java; and JavaScript will not be displayed in &kmail; for security reasons
and there is no way to activate them.</para></answer>
</qandaentry>

<qandaentry>
<question><para>Can I use two different versions of &kmail; at the same time? Can I go
back from a current version of &kmail; to an older one?</para></question>
<answer><para>You can only run one instance of &kmail; at once. We also recommend
to stick to a certain version and not switch back and forth between different versions.
Downgrading to an older version will probably cause problems, &eg; because the index file
formats might have changed. Upgrading should never be a problem.</para></answer>
</qandaentry>

<qandaentry>
<question><para>Does &kmail; support uuencoded files?</para></question>
<answer><para>Uuencoded attachments are supported, but inline uuencoded files are not.</para></answer>
</qandaentry>

<qandaentry>
<question><para>&kmail; crashed while I was writing a mail. So this mail is lost now?</para></question>
<answer><para>&kmail; tries to save your mail to 
<filename>~/dead.letter</filename> in case of a crash. The next time you start
&kmail; the mail composer should appear with your mail again. If it does not,
try to open <filename>~/dead.letter</filename> with an editor. If it does not
exist, the crash was so bad that &kmail; could not save your mail.</para></answer>
</qandaentry>

<qandaentry>
<question><para>When I try to set a folder to be mailing list-aware, it does not do
anything when receiving an email from the list.</para></question>
<answer><para>Associating a folder with a mailing list has nothing to do with
filtering the mailing list messages. You have to add a new filter rule manually.
However, once you associated a folder with a mailing list you can use <menuchoice>
<guimenu>Message</guimenu><guimenuitem>Reply to Mailing-List...</guimenuitem></menuchoice> or 
<menuchoice><guimenu>Message</guimenu><guimenuitem>New Message to Mailing-List...</guimenuitem></menuchoice>
and the mailing list address will be set in the <guilabel>To:</guilabel> field.
</para></answer>
</qandaentry>

<qandaentry>
<question><para>My SMTP server requires authentication. Does &kmail; support it?</para></question>
<answer><para>There are two common techniques used for <acronym>SMTP</acronym> authentication:
<quote>SMTP after POP3</quote> and <quote>SMTP Auth</quote>. 
<quote>SMTP Auth</quote> can be set in the <guilabel>General</guilabel> tab
of the SMTP configuration dialog.
To use <quote>SMTP after POP3</quote> you have to collect all your messages in the
<guilabel>outbox</guilabel> and send them just after you have fetched new mail.
<!-- fixme: how to make it more simple? -->
</para></answer>
</qandaentry>

<qandaentry>
<question><para>Can I use &kmail; and <application>procmail</application>?</para></question>
<answer><para>Yes, but it is important to do it the right way or you might lose
mail. In order to use <application>procmail</application> and &kmail; you need 
to set up &kmail; so that it will fetch new
mail from the spoolfiles in which <application>procmail</application>
drops your mail. Do <emphasis>not</emphasis> set up procmail to deliver
mail in a &kmail; folder, this  cannot work.</para>
          
<para>For each procmail spoolfile, you then need to create an account
from which &kmail; will fetch new mail. You also need to make sure you
specify the right lockfile name for this account. When setting up an
account, &kmail; will do some minimal parsing on your
<filename>.procmail</filename> file, and will try to list every
spoolfile it has found, and also the lockfiles next to the
<guilabel>procmail lockfile</guilabel> item. procmail lets the user
specify lockfiles in three different ways, so there is no way to
establish a correspondence between the spoolfiles and lockfiles. So it's
really up to you to make sure you specify the right lockfile for each
spoolfile.</para>
</answer>
</qandaentry>

<qandaentry>
<question><para>Spellchecking does not recognize non-English
characters.</para></question>
<answer><para>Before you can use spellchecking the first time, you have to
configure it. You can do so in the composer window's menu
under <menuchoice><guimenu>Settings</guimenu>
<guimenuitem>Spellchecker...</guimenuitem></menuchoice>. You can set
the dictionary and the encoding there.</para></answer>
</qandaentry>

<qandaentry>
<question><para>How do I use my
<application>Eudora</application>/&Netscape;/<application>Outlook</application>/...
mail folders in  &kmail;?</para></question> 
<answer><para>See the section <link linkend="importing">Using other Mailbox
files With &kmail;</link>.</para></answer>
</qandaentry>

<qandaentry>
<question><para>Can I use encryption with my normal (non-<acronym>SSL</acronym>)
POP3 account?</para></question>
<answer><para>If your POP3 server runs an
<application>ssh</application> daemon, you can use ssh to tunnel your
POP3 connection using the following command:</para>

<para><userinput><command>ssh</command> <option>-L 11000:127.0.0.1:110
user@host</option></userinput></para>

<para>Modify your &kmail; configuration to fetch the mail via
POP3 from <userinput>localhost</userinput> and ssh will tunnel
the connection for you.

<note><para>If non-encrypted messages have already been sent
via Internet, the only advantage of using <application>ssh</application> is
that your <emphasis>password</emphasis> will be sent encrypted to the POP3
server.</para></note>

<!-- fixme: add link to http://www.linuxdoc.org/HOWTO/mini/Secure-POP+SSH.html -->

</para>
</answer>
</qandaentry>

<qandaentry id="faq-file-locking">
<question><para>Does &kmail; lock the folders it uses?</para></question>
<answer><para>&kmail; does not lock the files in <filename
class="directory">~/Mail</filename>.</para>
<para>To avoid the risk of losing mail <emphasis>if using a local
account</emphasis> it is necessary to ensure that &kmail; uses the same type of
locking as your mail delivery agent.</para>

<para>There are five different locking options you can use:</para>

<itemizedlist>
<listitem><para><guilabel>Procmail lockfile</guilabel></para></listitem>
<listitem><para><guilabel>Mutt dotlock</guilabel></para></listitem>
<listitem><para><guilabel>Mutt dotlock privileged</guilabel></para></listitem>
<listitem><para><guilabel>FCNTL</guilabel> (default)</para></listitem>
<listitem><para><guilabel>none (use with care)</guilabel></para></listitem>
</itemizedlist>

<para><guilabel>Procmail lockfile</guilabel> will use a small utility that comes
with <application>procmail</application> called <command>lockfile</command>. You
can use this if your mail folder is in a directory where you have write
permission.  This will not work on your <filename
class="directory">/var/spool/mail/user</filename> file in most cases.  It will
create <filename>.lock</filename> files on your account when &kmail; is checking
for new mail. Please note that this will only work if
<application>procmail</application> is installed on your system.</para>

<para><guilabel>Mutt dotlock</guilabel> and <guilabel>Mutt dotlock
privileged</guilabel> will both use a small utility that comes with 
<application>mutt</application>
called <command>mutt_dotlock</command>. <guilabel>Mutt dotlock</guilabel>
can be used in the same way as the <guilabel>Procmail lockfile</guilabel>
option, with the same limitation with regards to the <filename
class="directory">/var/spool/mail/</filename> folders. However, the
<guilabel>Mutt dotlock privileged</guilabel> option can create lock files
in the <filename class="directory">/var/spool/mail</filename> directory. 
<command>mutt_dotlock</command> is a setgid program and this option will
run it in setgid mode. Please note that these options will only work if
<application>mutt</application> is installed on your system.</para>

<para><guilabel>FCNTL</guilabel> will use the
<function>fcntl()</function> system call.</para>

<warning><para>Usage of FCNTL locking might cause system lockups when the mail
spool file is on an NFS mounted device.</para></warning>

<para>If you do not want to use any locking, the <guilabel>none</guilabel> option
is what you want. However, there are risks of losing mail when no locking is
used.</para>

</answer>
</qandaentry>

<qandaentry>
<question><para>How do I leave messages on the server?</para></question>
<answer><para>See the <link linkend="popfilters">Download filters</link> chapter.
If you want to leave all messages on the server: open up the
<menuchoice><guimenu>Settings</guimenu><guimenuitem>Configure &kmail;...</guimenuitem>
</menuchoice> window. Click on the <guilabel>Network</guilabel> page. Select your
account from the account list and click the <guilabel>Modify...</guilabel>
button. This dialog contains the <guilabel>Delete messages from server after fetching</guilabel>
setting which you must deselect.</para></answer>
</qandaentry>

<qandaentry>
<question><para>How do I automatically insert a text footer within my
messages?</para></question>
<answer><para>The text footer is called a signature file. Select
<menuchoice><guimenu>Settings</guimenu>
<guimenuitem>Configure &kmail;...</guimenuitem></menuchoice>
Look in the <guilabel>Identity</guilabel> page for the <guilabel>Signature</guilabel>
tab and add your signature there.</para></answer> 
</qandaentry>

<qandaentry>
<question><para>How do I set up &Sendmail; to work with
&kmail; if I have a  dial-up connection?</para></question> 

<answer><para>First you should check if your &Linux;/BSD/whatever distribution
can do this for you. It probably has already been set up during
installation.</para>

<para>If that is not the case, you may want to have a look at <ulink
url="http://www.linuxdoc.org/HOWTO/mini/Mail-Queue.html">the Mail Queue
HOWTO</ulink> or at <ulink
url="http://www.leg.uct.ac.za/Articles/sendmail_dialup.html">UCT Linux User's
group page on configuring sendmail for Dial-up
connections</ulink>.</para></answer>
</qandaentry>

<qandaentry>
<question><para>I've seen demonstrations of remote control behavior with &kmail;.
Is there any documentation on the available interfaces?</para></question>
<answer><para>You can get a list of functions by using this command in a shell:
<userinput><command>dcop</command> 
<option>kmail  KMailIface</option></userinput>. Some documentation is also
available in <filename>kdenetwork/kmail/kmailIface.h</filename> and
<filename>kdenetwork/kmail/mailcomposerIface.h</filename>.</para></answer>
</qandaentry>

</qandaset>

</chapter>

<chapter id="importing">
<title>Using other Mailbox Files with &kmail;</title>

<para>&kmail; offers an import tool for the messages and address books of some
other email clients. You can access it using <menuchoice><guimenu>Tools</guimenu>
<guimenuitem>Import...</guimenuitem></menuchoice>. Please make sure that you 
compact your folders in the other email client, no matter if you are going to use
the import utility or if you are going to copy files manually.
You only need to read this chapter if this tool does not work for you.</para>

<para>This section is for all of the users who need to move email messages from
their previous email client over to &kmail;. &kmail; can store its messages using 
<quote>mbox</quote> or <quote>maildir</quote> formats, which are the most widely used mailbox formats on
&UNIX; systems. Mbox mailboxes store messages in one file, identifying where
messages start and end with a <literal>From</literal> line (do not mix this up
with the <literal>From:</literal> header that contains the message's sender).
Maildir uses one file per message.
For many &UNIX; email clients, all you must do is move your mailboxes to <filename
class="directory">~/Mail</filename> (or make <filename
class="symlink">Mail</filename> a symbolic link to the folder containing your
mailboxes), make sure they are writable by your user, and launch &kmail;. The
mailboxes should now show up correctly in &kmail;.</para>

<para>Please have a look at the
<ulink url="http://kmail.kde.org/tools.html">Tools section of &kmail;'s
homepage</ulink> first, to see if there is a tool that imports your mailbox
and maybe even address book.</para>

<warning><para>Do not use a second email client that accesses the files in
<filename class="directory">~/Mail</filename> while &kmail; is running or
you might lose messages. This section only explains how to import mailboxes
to &kmail; once, it is not useful to you if you're planning to use several
email clients for your mailboxes in the future.</para></warning>

<variablelist>

<varlistentry>
<term><application>Eudora Lite</application>/<application>Eudora
Pro</application></term>
<listitem>
<para><application>Eudora</application> uses the mbox format in its mail
files. To use them with &kmail;, make sure that your
<application>Eudora</application> mailboxes have been compacted, then copy the
<literal role="extension">.mbx</literal> files (&Windows;
<application>Eudora</application>) or <application>Eudora</application> mailbox
files (&Mac; <application>Eudora</application>) to your <filename
class="directory">~/Mail</filename> directory. You do not need to copy the
<filename>index</filename> files. Once you start &kmail;, the mailboxes should
appear in the Folders pane and the messages should be accessible in the Headers
pane.</para>
<para>If messages do not appear in the Headers pane, your mailbox files may
still contain &Windows; or &Mac; line feed characters. Use your favorite
text editor, the <application>recode</application> command or a scripting
language to change the &Windows; or &Mac; line feeds to &UNIX; line
feeds.</para>
</listitem>
</varlistentry>

<varlistentry>
<term><application>Mailsmith</application></term>
<listitem>
<para><application>Mailsmith</application> runs on &Mac; and uses its own database
format, however it is  possible to export mail into mbox format using
<menuchoice><guimenu>File</guimenu><guimenuitem>Export
Mail</guimenuitem></menuchoice> on a 
selected mailbox or on selected messages.  Once the messages have been exported, translate 
the &Mac; line breaks to &UNIX; line breaks using your favorite editor, or using the following 
command under &Linux;:</para>

<para><userinput><command>cat</command> <option>mail-mac.txt</option> 
| perl -e 'while (&lt;STDIN&gt;) { s/\r/\n/gi; print $_ ;}'  &gt; mail-unix.txt</userinput></para>

<para>&kmail; will only recognize mboxes placed directly in the <filename class="directory">~/Mail/</filename>
directory. This means that  a folder hierarchy cannot be preserved by simply moving files into the 
<filename class="directory">~/Mail/</filename> folder, but will need to be reconstructed
within &kmail; manually.</para>

</listitem>
</varlistentry>

<varlistentry>
<term>MMDF</term>
<listitem>
<para>This format is close enough to the mailbox format that &kmail; should be
able to use these mailboxes if you just copy them to your
<filename class="directory">~/Mail</filename> directory. However, MMDF mailboxes
have not been tested with &kmail;, so your results may vary.  If you can get
this format to work with &kmail;, please let us know so we can include more
specific directions in the next documentation release.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>MH mailboxes</term>
<listitem>
<para>MH mailboxes are directories containing files that correspond to each
message in that mailbox.  A shell script to convert MH mailboxes to mbox
mailboxes, <command>mh2kmail</command>, is included at least in the source
releases of &kmail;, but maybe not in the packaged releases. Running this script
on a MH folder will convert it to an mbox file.  We strongly suggest that you
back up your MH mail folders before you use this script.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>Forte <application>Agent</application></term>
<listitem>
<para>In <application>Agent</application>:</para>
<procedure>
<step>
<para>Select the messages to export</para>
</step>
<step>
<para>Select <menuchoice><guimenu>FILE</guimenu><guimenuitem>SAVE MESSAGES
AS</guimenuitem></menuchoice></para>
</step>
<step>
<para>Mark the <guilabel>UNIX FORMAT</guilabel> and <guilabel>SAVE
RAW</guilabel> boxes</para>
</step>
<step>
<para>Give File a  <literal role="extension">.txt</literal> extension and
save.</para>
</step>
</procedure>

<para>In &kde;:</para>

<procedure>
<step>
<para>Move previously saves file to correct <filename
class="directory">~/Mail</filename> folder</para>
</step>
<step>
<para>Rename file without <literal role="extension">.txt</literal>
extension</para>
</step>
</procedure>
<para>When you open &kmail; the new folder with appropriate messages will be
there.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>&Netscape; Mail</term>
<listitem>

<para>If you are using &Netscape; 4.x, the mail files should be found
in <filename class="directory">~/nsmail</filename>. If you are using
&Netscape; 6.x, they're buried in a directory deep in the <filename
class="directory">~/.mozilla</filename> subdirectory, something like:
<filename
class="directory">/home/user_name/.mozilla/user_name/2ts1ixha.slt/Mail/Mail/server_name</filename>
(The <filename class="directory">2ts1ixha.slt</filename> string will
probably vary, so check it on your own system.)  The <filename
class="directory">[...]/Mail/Mail</filename> directory contains one
subdirectory for each account from which you receive mail through
Netscape (&eg; <filename
class="directory">[...]/Mail/Mail/math.university.edu</filename>);
you will need to copy files from each of them if you want everything to
be accessible under &kmail;.</para>

<para>If you have no subfolders, just copy all of the &Netscape;
files to <filename class="directory">~/Mail</filename>, make sure
that they are writable (only by your user, of course), and restart
&kmail;: all of the messages will now appear in &kmail; folders.
(Note that if you use a command like <command>cp
<parameter>*</parameter> <parameter>~/Mail</parameter></command>, you
should follow it with <command>rm <option>-f</option>
<parameter>~/Mail/*.msf</parameter></command>; every &Netscape; 6
folder has a corresponding <filename>.msf</filename> file, and if you
do not get rid of them you will have a bunch of spurious empty
folders.)</para>

<para>If you were using subfolders under &Netscape; (&eg; a main
folder called <replaceable>Work</replaceable> with subfolders called
<replaceable>Jim</replaceable> and <replaceable>Nancy</replaceable>),
there are additional steps required. First, create the main folder
(<replaceable>Work</replaceable>) in &kmail; and create a temporary
child folder under it (by right-clicking on the folder name and
selecting <guilabel>Create child folder</guilabel>); it does not
matter what you call this folder -- <replaceable>dummy</replaceable>
or the default <replaceable>unnamed</replaceable>, for example. Once
a child folder has been requested, &kmail; creates a hidden directory
in <filename class="directory">~/Mail</filename> called (in this
example) <filename class="directory">.Work.directory</filename>. You
can then copy your &Netscape; subfolder files
(<replaceable>Jim</replaceable> and <replaceable>Nancy</replaceable>)
into <filename class="directory">~/Mail/.Work.directory</filename>,
and restart &kmail;; the child folders will appear under the main
folder <replaceable>Work</replaceable>. Of course, this procedure may
be extended for sub-subfolders, to any depth. (You can remove the
temporary child folders afterwards, unless it amuses you to have a
<replaceable>Work</replaceable> subfolder called
<replaceable>dummy</replaceable>.)</para>

</listitem>
</varlistentry>

<varlistentry>
<term><application>Pegasus Mail</application></term>
<listitem>
<para><application>Pegasus</application> for win32 uses single files for Mail
folders similar to &kmail;. <application>Pegasus mail</application> folder files
have the extension <literal role="extension">.pmm</literal> but they are the same format as mbox except the messages
do not start with the <literal>From</literal> header, but with a control character. To work around
this, replace each instance of the control character with <literal>From
aaa@aaa Mon Jan 01 00:00:00 1997</literal>. This <literal>From</literal>
line should be the first line of every message, before the
<literal>Received:</literal> and other headers. Make sure to use a text editor
that lets you save the files in &UNIX; format or create new folders in
<application>Pegasus</application> that are in &UNIX; format and copy your messages
there.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>Maildir / Outlook Express / xfmail</term>
<listitem>
<para>Tools to convert these formats are available at the
<ulink url="http://kmail.kde.org/tools.html">Tools section of &kmail;'s
homepage</ulink>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term>Lotus <application>Notes</application>, BeOS Mail files, <application>cc:
Mail</application>, &etc;...</term>
<listitem>
<para>First you should have a look at <ulink
url="http://kmail.kde.org/tools.html">Tools section of &kmail;'s homepage</ulink> if 
there are tools to convert your messages.</para>
<para>Mail programs not listed here or on the homepage probably do not work with &kmail; as they use
proprietary mail formats that &kmail; cannot understand. However, there is no
harm in trying! If the mailbox file looks similar to the mbox format, try
copying the mailbox file (remember, the index file is not needed) to your
<filename>~/Mail</filename> directory and see what happens if you start
&kmail;. If you get mailboxes from your favorite email client to work in &kmail;,
please tell us how you did it so that we can include directions in a future
revision of this documentation. </para>
</listitem>
</varlistentry>

</variablelist>
</chapter>


<chapter id="credits-and-licenses">
<title>Credits and Licenses</title>

<para>&kmail;: Copyright the &kmail; developers, 1997-2002</para>

&underGPL;
&underFDL;

<sect1 id="team">
<title>Development Team and Contributors</title>
<!-- please keep in sync with the authors list on the webpage -->

<!-- This is generated with "authors2xml.pl kmail/main.cpp"
 (except the "maintainer" comment): -->
<itemizedlist>
<listitem><para>Michael H&auml;ckel <email>haeckel@kde.org</email> (current release coordinator)</para></listitem>
<listitem><para>Don Sanders <email>sanders@kde.org</email></para></listitem>
<listitem><para>Stefan Taferner  <email>taferner@kde.org</email></para></listitem>
<listitem><para>Ingo Kl&ouml;cker <email>kloecker@kde.de</email></para></listitem>
<listitem><para>Marc Mutz <email>mutz@kde.org</email></para></listitem>
<listitem><para>Daniel Naber <email>daniel.naber@t-online.de</email></para></listitem>
<listitem><para>Andreas Gungl <email>a.gungl@gmx.de</email></para></listitem>
<listitem><para>Toyohiro Asukai <email>toyohiro@ksmplus.com</email></para></listitem>
<listitem><para>Waldo Bastian <email>bastian@kde.org</email></para></listitem>
<listitem><para>Carsten Burghardt <email>carsten.burghardt@web.de</email></para></listitem>
<listitem><para>Steven Brown <email>swbrown@ucsd.edu</email></para></listitem>
<listitem><para>Cristi Dumitrescu <email>cristid@chip.ro</email></para></listitem>
<listitem><para>Philippe Fremy <email>pfremy@chez.com</email></para></listitem>
<listitem><para>Kurt Granroth <email>granroth@kde.org</email></para></listitem>
<listitem><para>Heiko Hund <email>heiko@ist.eigentlich.net</email></para></listitem>
<listitem><para>Igor Janssen <email>rm@linux.ru.net</email></para></listitem>
<listitem><para>Matt Johnston <email>matt@caifex.org</email></para></listitem>
<listitem><para>Christer Kaivo-oja <email>whizkid@telia.com</email></para></listitem>
<listitem><para>Lars Knoll <email>knoll@kde.org</email></para></listitem>
<listitem><para>J. Nick Koston <email>bdraco@darkorb.net</email></para></listitem>
<listitem><para>Stephan Kulow <email>coolo@kde.org</email></para></listitem>
<listitem><para>Guillaume Laurent <email>glaurent@telegraph-road.org</email></para></listitem>
<listitem><para>Sam Magnuson <email>sam@trolltech.com</email></para></listitem>
<listitem><para>Laurent Montel <email>lmontel@mandrakesoft.com</email></para></listitem>
<listitem><para>Matt Newell <email>newellm@proaxis.com</email></para></listitem>
<listitem><para>Denis Perchine <email>dyp@perchine.com</email></para></listitem>
<listitem><para>Samuel Penn <email>sam@bifrost.demon.co.uk</email></para></listitem>
<listitem><para>Carsten Pfeiffer <email>pfeiffer@kde.org</email></para></listitem>
<listitem><para>Sven Radej <email>radej@kde.org</email></para></listitem>
<listitem><para>Mark Roberts <email>mark@taurine.demon.co.uk</email></para></listitem>
<listitem><para>Wolfgang Rohdewald <email>wrohdewald@dplanet.ch</email></para></listitem>
<listitem><para>Zack Rusin <email>zack@kde.org</email></para></listitem>
<listitem><para>Espen Sand <email>espen@kde.org</email></para></listitem>
<listitem><para>Aaron J. Seigo <email>aseigo@olympusproject.org</email></para></listitem>
<listitem><para>Jan Simonson <email>jan@simonson.pp.se</email></para></listitem>
<listitem><para>George Staikos <email>staikos@kde.org</email></para></listitem>
<listitem><para>Jason Stephenson <email>panda@mis.net</email></para></listitem>
<listitem><para>Jacek Stolarczyk <email>jacek@mer.chemia.polsl.gliwice.pl</email></para></listitem>
<listitem><para>Roberto S. Teixeira <email>maragato@kde.org</email></para></listitem>
<listitem><para>Ronen Tzur <email>rtzur@shani.net</email></para></listitem>
<listitem><para>Mario Weilguni <email>mweilguni@sime.com</email></para></listitem>
<listitem><para>Wynn Wilkes <email>wynnw@calderasystems.com</email></para></listitem>
<listitem><para>Robert D. Williams <email>rwilliams@kde.org</email></para></listitem>
<listitem><para>Markus Wuebben <email>markus.wuebben@kde.org</email></para></listitem>
<listitem><para>Thorsten Zachmann <email>t.zachmann@zagge.de</email></para></listitem>
<listitem><para>Karl-Heinz Zimmer <email>khz@kde.org</email></para></listitem>
</itemizedlist>

</sect1>

<sect1 id="documentation">
<title>Documentation</title>

<para>Update for &kmail; 1.2 to 1.5 by Daniel Naber
<email>daniel.naber@t-online.de</email>,
<application>OpenPGP</application> chapter by Andreas Gungl
<email>a.gungl@gmx.de</email> and Ingo Kl&ouml;cker <email>kloecker@kde.de</email>,
message filter chapter by Marc Mutz
<email>mutz@kde.org</email>, download filter chapter by Thorsten
Zachmann <email>T.Zachmann@zagge.de</email>. Other parts have been
contributed by various &kmail; developers.</para>

<para>&kmail; 1.0
documentation by David Rugge <email>davidrugge@mediaone.net</email>.
Original documentation by Markus Wuebben
<email>markus.wuebben@kde.org</email>, Robert Williams
<email>rwilliams@kde.org</email> (Editor).</para>

<para>Thanks to Michael Elkins <email>me@cs.hmc.edu</email> for his excellent
description of the different &UNIX; mail formats in the <application>Mutt</application> 
documentation.</para>

<para>Thanks to the following people for providing directions on using other
email client mailboxes with &kmail;:</para>

<itemizedlist>
<listitem><para>Nik Gaffney <email>nik@f0.am</email>
(<application>Mailsmith</application>)</para></listitem>
<listitem><para>David McMillen <email>mcmillen@math.bu.edu</email> and 
Mendel Mobach <email>mendel@mobach.nl</email> (&Netscape; mail)</para></listitem>
<listitem><para>Ed Shapard <email>shapard@bigfoot.com</email>
(<application>Pegasus</application> Mail)</para></listitem>
<listitem><para>Ray Muir <email>rjmuir@ibm.net</email> (Forte
<application>Agent</application>)</para></listitem>
</itemizedlist>
<!-- TRANS:CREDIT_FOR_TRANSLATORS -->

</sect1>

</chapter>

<appendix id="installation">
<title>Installation</title>

<sect1 id="getting-kmail">
<title>How to obtain &kmail;</title>

&install.intro.documentation;

</sect1>

<sect1 id="compilation">
<title>Compilation and Installation</title>

&install.compile.documentation;

</sect1>

</appendix>

</book>

<!--
Local Variables:
mode: sgml
sgml-minimize-attributes:nil
sgml-general-insert-case:lower
sgml-indent-step:0
sgml-indent-data:nil
End:

// vim:ts=0:sw=2:tw=78:noet
-->
