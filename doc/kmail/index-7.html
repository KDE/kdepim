<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>The Kmail Handbook: Questions and answers</TITLE>
<META HTTP-EQUIV="content-type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="keywords" CONTENT="KDE Mail Client">
<META NAME="description" CONTENT="KMail">
 <LINK HREF="index-8.html" REL=next>
 <LINK HREF="index-6.html" REL=previous>
 <LINK HREF="index.html#toc7" REL=contents>
</HEAD>
<BODY BGCOLOR="#ffffff" LINK="#aa0000" TEXT="#000000" >
<FONT FACE="Helvetica">
<A HREF="http://www.kde.org/">
<IMG SRC="logotp3.png" BORDER="0" ALT="The K Desktop Environment"></A>
<HR WIDTH="100%" SIZE=2 ALIGN="CENTER" NOSHADE>
<P ALIGN="RIGHT">
<A HREF="index-8.html">Next</A>
 <A HREF="index-6.html">Previous</A>
 <A HREF="index.html#toc7">Table of Contents</A>
</P> 
<H2><A NAME="s7">7. Questions and answers</A></H2>

<H2><A NAME="ss7.1">7.1 How do I use my (Eudora, XFmail, other random mail client) mailboxes in Kmail?</A>
</H2>

<P>See the section 
<A HREF="index-5.html#sec-Importing">Using other Mailbox files With Kmail</A>.
<P>
<H2><A NAME="ss7.2">7.2 How do I leave mail on the server? (from the KDE FAQ)</A>
</H2>

<P>Open up the Settings window from the file menu. Click on the Network tab. Select your account from the account list and click the
Modify button. This dialog contains the "Delete mail from server" setting which you must not select. 
<P>
<H2><A NAME="ss7.3">7.3 How do I automatically insert a text footer within the mail? (from the KDE FAQ)</A>
</H2>

<P>The text footer is called a signature file. What you need to do is open up a text editor (like kedit) and type in what you want to appear
in the footer. Save the file under a name like signature or footer. Go into Kmail and select <B>File |
Settings...</B> Look in the "Identity" tab
for the "signature file" field. Click on the ellipses button and select the file you just created.
Now Kmail will automatically insert that file in any message you write.
<P>
<H2><A NAME="ss7.4">7.4 Why does Kmail keep asking me for the location of my signature file?</A>
</H2>

<P>Kmail will ask you the location of your signature file if you have checked the
option <B>Automatically Append Signature</B> in the <B>Composer</B> tab of
the <B>Settings</B> dialog, but have not specified a signature file in the
<B>Identity</B> tab. You should either specify a signature file or uncheck
<B>Automatically Append Signature</B>.
<P>
<H2><A NAME="ss7.5">7.5 Why doesn't word wrap work in the Composer window?</A>
</H2>

<P>The word wrap setting is probably turned off. Word wrap can be toggled on and off in the 
<B>Composer</B> tab of the <B>Settings</B> dialog box.
<P>
<H2><A NAME="ss7.6">7.6 How can I find out how many unread messages I have in a mail folder?</A>
</H2>

<P>When you click on a mail folder in the <B>Folders Pane</B>, the total number
of messages and the number of unread messages is displayed in the status bar at
the bottom of the main window.
<P>In previous versions of Kmail, this was the only way to find out how many unread messages
were in a folder. Now, the number of unread messages is conveniently displayed in the
<B>Folders Pane</B> after the folder name.
<P>
<H2><A NAME="sec-QASendmail"></A> <A NAME="ss7.7">7.7 How do I set up sendmail to work with Kmail if I have a dial-up connection?</A>
</H2>

<P>These instructions were taken almost verbatim from the
UCT Linux User's group page on 
<A HREF="http://www.leg.uct.ac.za/Articles/sendmail_dialup.html">configuring Sendmail for Dial-up connections</A>.
<P>
<H3>Step 1: Masquerade host</H3>

<P>You now need to edit <CODE>/etc/sendmail.cf</CODE> to tell it which host to masquerade as.
Look for a line which says something like:
<BLOCKQUOTE><CODE>
<PRE>
# who I masquerade as (null for no masquerading) (see also $=M)
DM
</PRE>
</CODE></BLOCKQUOTE>
<P>and add your address to the end of the line beginning "DM". Our user changed it to the following
<BLOCKQUOTE><CODE>
<PRE>
DMhendrix.org
</PRE>
</CODE></BLOCKQUOTE>
<P>When our user sends mail, the <CODE>Return-Path</CODE> and <CODE>From:</CODE> fields will now say that the mail comes from hendrix.org. This
prevents "cannot route to sender" messages which certain hosts you send mail to may generate because your machine does
not have a DNS entry. We must still change the user portion of the email address, because if our user sends mail now, the
<CODE>From:</CODE> field will read <CODE>mj@hendrix.org</CODE>, which is not correct. If you login to your home machine with the same
username as the username portion of your email address, you can skip ahead to restarting sendmail. If you have different
usernames (as our example does), you need to add a user database.
<P>
<H3>Step 2: Create a user database</H3>

<P>Create a file modelled on the following:
<BLOCKQUOTE><CODE>
<PRE>
loginname:mailname      First_Last
First_Last:maildrop     loginname
</PRE>
</CODE></BLOCKQUOTE>
<P>"loginname" is the name you login is on your machine at home (in this case mj), "First_Last" is the name portion of your
email address (in this case mjturner). In this case our user created a file called <CODE>/etc/userdb</CODE> containing the following:
<BLOCKQUOTE><CODE>
<PRE>
mj:mailname     mjturner@hendrix.org
mjturner:maildrop       mj
</PRE>
</CODE></BLOCKQUOTE>
<P>Once you have done this, you need to convert the text file <CODE>/etc/userdb</CODE> into a Berkeley "db" database file which sendmail can
understand. To do this, you need to run makemap as follows:
<BLOCKQUOTE><CODE>
<PRE>
# makemap btree /etc/userdb.db &lt; /etc/userdb
</PRE>
</CODE></BLOCKQUOTE>
<P>This creates the database file <CODE>/etc/userdb.db</CODE> from the text file <CODE>/etc/userdb</CODE>. You must remember do this every time you
change <CODE>/etc/userdb</CODE> otherwise sendmail will not be using your latest user database when sending mail.
<P>
<H3>Step 3: Add user database to sendmail.cf</H3>

<P>You must also tell sendmail to use your user database (<CODE>/etc/userdb.db</CODE>) when sending mail. The syntax differs slightly
depending on whether you are using an 8.7.x/8.8.x or 8.6.x config file. You can tell which version yours is by searching for
the string "DZ" (<CODE>grep ^DZ /etc/sendmail.cf</CODE>). For example, an 8.8.0 config file would say <CODE>DZ8.8.0</CODE>.
<P>
<H3>8.6.x config file</H3>

<P>
<P>If you are using an 8.6.x config file, look for a line beginning
<BLOCKQUOTE><CODE>
<PRE>
    # list of locations of user database file (null means no lookup)
    OU
</PRE>
</CODE></BLOCKQUOTE>
<P>and add the location of your user database. Our user changed the above line to:
<BLOCKQUOTE><CODE>
<PRE>
    OU/etc/userdb.db
</PRE>
</CODE></BLOCKQUOTE>
<P>
<H3>8.7.x or 8.8.x config file</H3>

<P>If you are using an 8.7.x or 8.8.x config file look for a line beginning
<BLOCKQUOTE><CODE>
<PRE>
    # list of locations of user database file (null means no lookup)
    O UserDatabaseSpec=
</PRE>
</CODE></BLOCKQUOTE>
<P>and add the location of your user database to it. Our user changed it to the following:
<BLOCKQUOTE><CODE>
<PRE>
    O UserDatabaseSpec=/etc/userdb.db
</PRE>
</CODE></BLOCKQUOTE>
<P>
<H3>Step 4: Restart sendmail</H3>

<P>After making these changes, as root you need to restart sendmail:
<BLOCKQUOTE><CODE>
<PRE>
# ps aux | grep sendmail | grep -v grep
root        64  0.0  0.0  1208     0  ?  SW  11:45   0:00 (sendmail)

# kill -HUP 64
</PRE>
</CODE></BLOCKQUOTE>
<P>(use <CODE>ps -ef</CODE> instead of <CODE>ps aux</CODE> if you're using SysV).
<P>Sendmail will now re-read its config file (<CODE>/etc/sendmail.cf</CODE>) and everything should be working. When you send mail, the from
header field will be a valid email address and not the address you have on your machine. For example, when our user sends
mail, it will read <CODE>From: mjturner@hendrix.org</CODE> in the headers. This works with all mail user agents (Mutt, Elm, Pine, mh,
etc) because the address translation is done at the mail transport agent level. Basically, you can use any program to send
mail and your address will be correct.
<P>
<H3>Step 5: Configure a "smart" relay</H3>

<P>It can take quite a while for mail to get delivered to its final destination, as sendmail has to connect to the mail servers of the
recipients of your mail. This time would have to be spent online, something which can prove to be costly. If, however, you
configure sendmail to use a "smart" relay, it will deliver all mail to that relay and the relay will then deliver it to its
destination. Your ISP's mail server makes an ideal "smart" relay.
<P>Change
<BLOCKQUOTE><CODE>
<PRE>
# "Smart" relay host (may be null)
DS
</PRE>
</CODE></BLOCKQUOTE>
<P>to
<BLOCKQUOTE><CODE>
<PRE>
# "Smart" relay host (may be null)
DSmail.hendrix.org
</PRE>
</CODE></BLOCKQUOTE>
<P>Don't forget to restart sendmail after doing this (see restarting sendmail).
All non-local mail will now be sent to
<CODE>mail.hendrix.org</CODE> which will then deliver it to its final destination.
<P>
<P>
<P ALIGN="RIGHT">

<A HREF="index-8.html">Next</A>
 <A HREF="index-6.html">Previous</A>
 <A HREF="index.html#toc7">Table of Contents</A>
</P>
<CENTER>
<HR WIDTH="100%" SIZE=3 ALIGN=CENTER NOSHADE>
</CENTER>
</FONT>


</BODY>
</HTML>
