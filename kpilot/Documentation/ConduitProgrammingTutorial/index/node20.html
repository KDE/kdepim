<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2K.1beta (1.48)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>The PilotRecord classes for working with records</TITLE>
<META NAME="description" CONTENT="The PilotRecord classes for working with records">
<META NAME="keywords" CONTENT="index">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2K.1beta">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="index.css">

<LINK REL="previous" HREF="node19.html">
<LINK REL="up" HREF="node16.html">
<LINK REL="next" HREF="node21.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html310"
  HREF="node21.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html306"
  HREF="node16.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html302"
  HREF="node19.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html308"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html311"
  HREF="node21.html">A very simple conduit:</A>
<B> Up:</B> <A NAME="tex2html307"
  HREF="node16.html">How the conduits work</A>
<B> Previous:</B> <A NAME="tex2html303"
  HREF="node19.html">The PilotDatabase classes for</A>
 &nbsp <B>  <A NAME="tex2html309"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00054000000000000000">
The <FONT SIZE="-1"><EM><TT>PilotRecord</TT></EM></FONT> classes for working with records</A>
</H2>

<P>
Each database consists of several database records, so we also need a 
class <FONT SIZE="-1"><EM><TT>PilotRecord</TT></EM></FONT> to work with records. A PilotRecord is just 
a long string of binary data, without any meaning so far. You will 
have to implement your own classes that take the data from the record 
and turn it into usable values (use the database format specification 
for the database you are working with). The class <FONT SIZE="-1"><EM><TT>PilotAppCategory</TT></EM></FONT> 
can be used as base class for this, and the <FONT SIZE="-1"><TT>pack()</TT></FONT> method packs 
the human-readable variable values into one whole binary string that 
is then sent to the handheld as the data of the record. Usually you 
don't create an instance of <FONT SIZE="-1"><EM><TT>PilotRecord</TT></EM></FONT> yourself, but either 
get a <FONT SIZE="-1"><TT>PilotRecord*</TT></FONT> from one of the methods of the <FONT SIZE="-1"><EM><TT>PilotDatabase</TT></EM></FONT> 
class, or you pack your own subclass of <FONT SIZE="-1"><EM><TT>PilotAppCategory</TT></EM></FONT> (e.g. 
PilotTodoEntry, PilotAddress, PilotDateEntry) with a call to <FONT SIZE="-1"><TT>pack()</TT></FONT>.

<P>
The <FONT SIZE="-1"><EM><TT>PilotRecord</TT></EM></FONT> class has the following important methods:

<P>

<UL>
<LI><FONT SIZE="-1"><TT>char* getData()</TT></FONT> ... gets the binary data directly from the 
database. You need to "unpack" the data yourself.
</LI>
<LI><FONT SIZE="-1"><TT>void setData(const char* data, int len)</TT></FONT> ... sets the packed 
binary data of the record.
</LI>
<LI><FONT SIZE="-1"><TT>int   getLen()</TT></FONT> ... Returns the length of the record data.
</LI>
<LI><FONT SIZE="-1"><TT>int   getAttrib(</TT></FONT> ... Returns the attributes of the record 
(e.g. modified, archived, deleted, secret etc.). For possible values 
see the pilot-link header files.
</LI>
<LI><FONT SIZE="-1"><TT>void  setAttrib(int attrib)</TT></FONT> ... Sets the record attributes.

<P>
</LI>
<LI><FONT SIZE="-1"><TT>int   getCat()</TT></FONT> ... Returns the category of the record (0-15). 
The names of the categories are stored in the database's header.
</LI>
<LI><FONT SIZE="-1"><TT>void  setCat(int cat)</TT></FONT> ... Sets the category of the record. 
<FONT SIZE="-1"><TT>cat</TT></FONT> needs to be in the range 0-15.

<P>
</LI>
<LI><FONT SIZE="-1"><TT>unsigned long getID()</TT></FONT> ... Returns the unique record ID.
</LI>
<LI><FONT SIZE="-1"><TT>void setID(unsigned long id)</TT></FONT> ... Sets the record ID. If you 
already have a record with that ID, it will be overwritten!

<P>
</LI>
<LI><FONT SIZE="-1"><TT>bool isDeleted()</TT></FONT> ... Self-explaining
</LI>
<LI><FONT SIZE="-1"><TT>bool isSecret()</TT></FONT> ... Self-explaining
</LI>
<LI><FONT SIZE="-1"><TT>bool isArchived()</TT></FONT> ... Self-explaining
</LI>
<LI><FONT SIZE="-1"><TT>void makeDeleted()</TT></FONT> ... Self-explaining
</LI>
<LI><FONT SIZE="-1"><TT>void makeSecret()</TT></FONT> ... Self-explaining
</LI>
</UL>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html310"
  HREF="node21.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html306"
  HREF="node16.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html302"
  HREF="node19.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html308"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html311"
  HREF="node21.html">A very simple conduit:</A>
<B> Up:</B> <A NAME="tex2html307"
  HREF="node16.html">How the conduits work</A>
<B> Previous:</B> <A NAME="tex2html303"
  HREF="node19.html">The PilotDatabase classes for</A>
 &nbsp <B>  <A NAME="tex2html309"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
Reinhold Kainhofer
2003-01-13
</ADDRESS>
</BODY>
</HTML>
