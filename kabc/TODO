Factor out KFileWatch and KLockFile.
