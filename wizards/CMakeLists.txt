kde4_header()

include_directories( ${CMAKE_SOURCE_DIR}/libkpimidentities ${CMAKE_SOURCE_DIR}/libkcal ${CMAKE_SOURCE_DIR}/kresources/kolab/shared ${CMAKE_SOURCE_DIR}/knotes ${CMAKE_SOURCE_DIR}/libkleo ${CMAKE_SOURCE_DIR}/kresources/lib ${KDE4_INCLUDE_DIR} ${QT_INCLUDES} ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_BINARY_DIR}  )


########### next target ###############

set(groupwarewizard_SRCS groupwarewizard.cpp main.cpp overviewpage.cpp )

kde4_automoc(${groupwarewizard_SRCS})

kde4_add_executable(groupwarewizard ${groupwarewizard_SRCS})

target_link_libraries(groupwarewizard  ${QT_AND_KDECORE_LIBS} egroupwarewizard sloxwizard kdeui kolabwizard groupwisewizard )

install_targets(/bin groupwarewizard )


########### next target ###############

set(egroupwarewizard_SRCS egroupwarewizard.cpp egroupwaremain.cpp )

kde4_automoc(${egroupwarewizard_SRCS})

kde4_add_kcfg_files(egroupwarewizard_SRCS egroupwareconfig.kcfgc )

kde4_add_executable(egroupwarewizard ${egroupwarewizard_SRCS})

target_link_libraries(egroupwarewizard  ${QT_AND_KDECORE_LIBS} kabc_xmlrpc kcal_xmlrpc knotes_xmlrpc kcal kdepim kdeui egroupwarewizard )

install_targets(/bin egroupwarewizard )


########### next target ###############

set(sloxwizard_SRCS sloxwizard.cpp sloxmain.cpp )

kde4_automoc(${sloxwizard_SRCS})

kde4_add_kcfg_files(sloxwizard_SRCS sloxconfig.kcfgc )

kde4_add_executable(sloxwizard ${sloxwizard_SRCS})

target_link_libraries(sloxwizard  ${QT_AND_KDECORE_LIBS} kcal_slox kabc_slox kdepim sloxwizard )

install_targets(/bin sloxwizard )


########### next target ###############

set(kolabwizard_SRCS 
   kolabwizard.cpp 
   kmailchanges.cpp 
   kolabkmailchanges.cpp 
   kolabmain.cpp )

kde4_automoc(${kolabwizard_SRCS})

kde4_add_kcfg_files(kolabwizard_SRCS kolabconfig.kcfgc )

kde4_add_executable(kolabwizard ${kolabwizard_SRCS})

target_link_libraries(kolabwizard  ${QT_AND_KDECORE_LIBS} kcalkolab kabckolab knoteskolab kcal kdepim kpimidentities kolabwizard kdeui )

install_targets(/bin kolabwizard )


########### next target ###############

set(kde_module_LTLIBRARIES_SRCS dummy.cpp )

kde4_automoc(${kde_module_LTLIBRARIES_SRCS})

file(WRITE dummy.cpp "//autogenerated file by cmake\n")
kde4_add_executable(kde_module_LTLIBRARIES ${kde_module_LTLIBRARIES_SRCS})

target_link_libraries(kde_module_LTLIBRARIES  ${QT_AND_KDECORE_LIBS} )

install_targets(/bin kde_module_LTLIBRARIES )


########### next target ###############

set(libegroupwarewizard.la_SRCS dummy.cpp )

kde4_automoc(${libegroupwarewizard.la_SRCS})

file(WRITE dummy.cpp "//autogenerated file by cmake\n")
kde4_add_executable(libegroupwarewizard.la ${libegroupwarewizard.la_SRCS})

target_link_libraries(libegroupwarewizard.la  ${QT_AND_KDECORE_LIBS} )

install_targets(/bin libegroupwarewizard.la )


########### next target ###############

set(libsloxwizard.la_SRCS dummy.cpp )

kde4_automoc(${libsloxwizard.la_SRCS})

file(WRITE dummy.cpp "//autogenerated file by cmake\n")
kde4_add_executable(libsloxwizard.la ${libsloxwizard.la_SRCS})

target_link_libraries(libsloxwizard.la  ${QT_AND_KDECORE_LIBS} )

install_targets(/bin libsloxwizard.la )


########### next target ###############

set(libkolabwizard.la_SRCS dummy.cpp )

kde4_automoc(${libkolabwizard.la_SRCS})

file(WRITE dummy.cpp "//autogenerated file by cmake\n")
kde4_add_executable(libkolabwizard.la ${libkolabwizard.la_SRCS})

target_link_libraries(libkolabwizard.la  ${QT_AND_KDECORE_LIBS} )

install_targets(/bin libkolabwizard.la )


########### next target ###############

set(libgroupwisewizard.la_SRCS dummy.cpp )

kde4_automoc(${libgroupwisewizard.la_SRCS})

file(WRITE dummy.cpp "//autogenerated file by cmake\n")
kde4_add_executable(libgroupwisewizard.la ${libgroupwisewizard.la_SRCS})

target_link_libraries(libgroupwisewizard.la  ${QT_AND_KDECORE_LIBS} )

install_targets(/bin libgroupwisewizard.la )


########### install files ###############

install_files( ${XDG_APPS_DIR} FILES groupwarewizard.desktop )
install_files( ${KCFG_INSTALL_DIR} FILES egroupware.kcfg slox.kcfg kolab.kcfg groupwise.kcfg )

kde4_footer()



#original Makefile.am contents follow:

#METASOURCES = AUTO
#
#INCLUDES = -I$(top_srcdir)/libkpimidentities -I$(top_srcdir)/libkcal \
#           -I$(top_srcdir)/kresources/kolab/shared -I$(top_srcdir) \
#           -I$(top_srcdir)/knotes \
#           -I$(top_srcdir)/libkleo \
#           -I$(top_builddir)/kresources/groupwise \
#	   -I$(top_builddir)/kresources/lib \
#           -I$(top_srcdir)/kresources/lib \
#           $(all_includes)
#
#bin_PROGRAMS = groupwarewizard egroupwarewizard sloxwizard kolabwizard \
##               groupwisewizard
#
#kde_module_LTLIBRARIES = libegroupwarewizard.la libsloxwizard.la \
#                         libkolabwizard.la libgroupwisewizard.la
#
#
#groupwarewizard_LDFLAGS = $(all_libraries) $(KDE_RPATH)
#groupwarewizard_LDADD = libegroupwarewizard.la libsloxwizard.la $(LIB_KDEUI) \
#                        libkolabwizard.la libgroupwisewizard.la
#groupwarewizard_SOURCES = groupwarewizard.cpp main.cpp overviewpage.cpp
#
## Kolab
#libkolabwizard_la_LDFLAGS = -avoid-version -no-undefined $(all_libraries)
#libkolabwizard_la_LIBADD = $(top_builddir)/kresources/kolab/kcal/libkcalkolab.la \
#                           $(top_builddir)/kresources/kolab/kabc/libkabckolab.la \
#                           $(top_builddir)/kresources/kolab/knotes/libknoteskolab.la \
#                           $(top_builddir)/libkcal/libkcal.la \
#                           $(top_builddir)/libkdepim/libkdepim.la \
#                           $(top_builddir)/libkpimidentities/libkpimidentities.la
#
#libkolabwizard_la_SOURCES = kolabwizard.cpp kmailchanges.cpp kolabconfig.kcfgc \
#  kolabkmailchanges.cpp
#
#kolabwizard_LDADD = libkolabwizard.la $(LIB_KDEUI)
#kolabwizard_LDFLAGS = $(all_libraries) $(KDE_RPATH)
#kolabwizard_SOURCES = kolabmain.cpp
#
## eGroupware
#libegroupwarewizard_la_LDFLAGS = -avoid-version -no-undefined $(all_libraries)
#libegroupwarewizard_la_SOURCES = egroupwarewizard.cpp egroupwareconfig.kcfgc
#libegroupwarewizard_la_LIBADD = $(top_builddir)/kresources/egroupware/libkabc_xmlrpc.la \
#                                $(top_builddir)/kresources/egroupware/libkcal_xmlrpc.la \
#                                $(top_builddir)/kresources/egroupware/libknotes_xmlrpc.la \
#                                $(top_builddir)/libkcal/libkcal.la \
#                                $(top_builddir)/libkdepim/libkdepim.la \
#                                $(LIB_KDEUI)
#
#egroupwarewizard_LDADD = libegroupwarewizard.la
#egroupwarewizard_LDFLAGS = $(all_libraries) $(KDE_RPATH)
#egroupwarewizard_SOURCES = egroupwaremain.cpp
#
## SLOX
#libsloxwizard_la_LDFLAGS = -avoid-version -no-undefined $(all_libraries)
#libsloxwizard_la_SOURCES = sloxwizard.cpp sloxconfig.kcfgc
#libsloxwizard_la_LIBADD = $(top_builddir)/kresources/slox/libkcal_slox.la \
#                          $(top_builddir)/kresources/slox/libkabc_slox.la \
#                          $(top_builddir)/libkdepim/libkdepim.la
#
#sloxwizard_LDADD = libsloxwizard.la
#sloxwizard_LDFLAGS = $(all_libraries) $(KDE_RPATH)
#sloxwizard_SOURCES = sloxmain.cpp
#
## GroupWise
##libgroupwisewizard_la_LDFLAGS = -avoid-version -no-undefined $(all_libraries)
##libgroupwisewizard_la_SOURCES = groupwisewizard.cpp groupwiseconfig.kcfgc \
##  kmailchanges.cpp
##libgroupwisewizard_la_LIBADD = $(top_builddir)/kresources/groupwise/libkcal_groupwise.la \
##                          $(top_builddir)/kresources/groupwise/libkabc_groupwise.la \
##                          $(top_builddir)/libkdepim/libkdepim.la \
##                          $(top_builddir)/libkpimidentities/libkpimidentities.la
##libgroupwisewizard_la_COMPILE_FIRST = $(top_builddir)/kresources/groupwise/kabc_groupwiseprefs.h \
##                                      $(top_builddir)/kresources/groupwise/kcal_groupwiseprefsbase.h
#
#
##groupwisewizard_LDADD = libgroupwisewizard.la
##groupwisewizard_LDFLAGS = $(all_libraries) $(KDE_RPATH)
##groupwisewizard_SOURCES = groupwisemain.cpp
#
#noinst_HEADERS = egroupwarewizard.h kmailchanges.h kolabwizard.h sloxwizard.h \
#                 groupwisewizard.h
#
#kde_kcfg_DATA = egroupware.kcfg slox.kcfg kolab.kcfg groupwise.kcfg
#
#messages: rc.cpp
#	$(XGETTEXT) *.cpp -o $(podir)/kdepimwizards.pot
#
#egroupwarewizard.lo: ../kresources/egroupware/kabc_egroupwareprefs.h ../kresources/egroupware/kcal_egroupwareprefs.h ../kresources/egroupware/knotes_egroupwareprefs.h
#sloxwizard.lo: ../kresources/slox/kabcsloxprefs.h ../kresources/slox/kcalsloxprefs.h
#
#xdg_apps_DATA = groupwarewizard.desktop
